!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=52)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new(e.AudioContext||e.webkitAudioContext),n=e.navigator.userAgent,r=!!n.match(/i(Pad|Phone)/i),a=!!n.match(/WebKit/i),i=r&&a&&!n.match(/CriOS/i)&&!n.match(/OPiOS/i);return i&&!function(){var n=e.document,r=function(){var e=t.createOscillator();e.frequency.value=1,e.start?e.start():e.noteOn(),e.stop?e.stop():e.noteOff(),n.body.removeChild(i)},a=n.createElement("div");a.style.cssText="position:absolute;bottom:0;left:0;top:0;right:0;width:5em;height:1.2em;margin:auto;padding:0.5em;background:#91d780;font-size:48px;text-align:center;border-radius:0.5em;border:4px solid white;font-weight:bold",a.textContent="Launch";var i=n.createElement("div");i.style.cssText="position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;background:rgba(0,0,0,0.9)",i.appendChild(a),i.addEventListener("mousedown",r),n.body.appendChild(i)}(),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){!function(e){e.AnalyserNode&&(e.AnalyserNode.prototype.getFloatTimeDomainData||!function(){var t=new Uint8Array(32768);e.AnalyserNode.prototype.getFloatTimeDomainData=function(e){var n=Math.min(this.fftSize,e.length);this.getByteTimeDomainData(t);for(var r=0;r<n;r++)e[r]=.0078125*t[r]-1}}())}(window)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=[],t=function(t){return e.push(t),function(){e.splice(e.indexOf(t),1)}},n=function(t,n){var r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;l(t,n)}}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}};return[t,n]}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(6),u=(r(l),n(5)),c=r(u),d="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI0IDI0IiBoZWlnaHQ9IjI0cHgiIGlkPSJMYXllcl8xIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnPjxnPjxwYXRoIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLDBDNS4zNzUsMCwwLjAwMyw1LjM3MywwLjAwMywxMmMwLDYuNjI3LDUuMzcyLDEyLDExLjk5NywxMiAgICBjNi42MjYsMCwxMS45OTctNS4zNzMsMTEuOTk3LTEyQzIzLjk5Nyw1LjM3MywxOC42MjYsMCwxMiwweiBNMTYuNDEyLDE2LjcwOWwtMC4zNSwwLjM1Yy0wLjI5MSwwLjI5MS0wLjc4MiwwLjMwNS0xLjA4OCwwLjAyOSAgICBsLTQuNTItMy45NTVjLTAuMzA4LTAuMjc1LTAuNTQxLTAuODM4LTAuNTIxLTEuMjVsMC40MTktNy4xMzRDMTAuMzc0LDQuMzM2LDEwLjcyOSw0LDExLjE0Miw0aDAuNDkzICAgIGMwLjQxMywwLDAuNzY3LDAuMzM2LDAuNzg3LDAuNzQ4bDAuMzQzLDUuOTM0YzAuMDIxLDAuNDEzLDAuMjYyLDEsMC41MzUsMS4zMDlsMy4xNDQsMy42MjggICAgQzE2LjcxNywxNS45MjgsMTYuNzA0LDE2LjQxOCwxNi40MTIsMTYuNzA5eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9nPjwvZz48L3N2Zz4=",p=function(){function e(t,n,r){var s=this;a(this,e);var l=4,u=[{outName:"gate16",divisor:1},{outName:"gate8",divisor:2},{outName:"gate4",divisor:4}];this.inputs={},this.outputs={};var p=!0,h=!1,f=void 0;try{for(var v,g=u[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var y=v.value,m=i(),b=o(m,2),w=b[0],x=b[1];this.outputs[y.outName]={type:"gateEvent",subscribe:w},y.emitter=x}}catch(e){h=!0,f=e}finally{try{!p&&g.return&&g.return()}finally{if(h)throw f}}this.tempo=120;var L=10;r&&(this.tempo=r.t);var k=t.createElement("div");k.innerHTML='<div style="box-sizing: border-box; width: 62px; height: 256px; padding: 5px; background-color: #a72a2a;font-size:14px"><div style="text-align:center;margin:40px 0 20px"><img width="48" height="48" src="'+d+'"></div><div><label>Tempo<br><input type="number" value="'+this.tempo+'" min="'+L+'" style="width: 50px" />bpm</label></div></div>',this.panelView=k.childNodes[0],this.panelView.querySelector("input").addEventListener("input",function(e){var t=parseInt(e.target.value,10);!isNaN(t)&&t>=L&&(s.tempo=t)},!1),this._scheduler=new c.default(n);var E=n.currentTime+.1,M=0;this._scheduler.start(function(e){for(var t=60/(s.tempo*l);E<e.end;){var n=!0,r=!1,a=void 0;try{for(var i,o=u[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value,d=c.divisor,p=d*t;M%d===0&&(c.emitter(E,!0),c.emitter(E+.5*p,!1))}}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}E+=t,M++}})}return s(e,[{key:"deactivate",value:function(){this._scheduler.stop()}},{key:"save",value:function(){return{t:this.tempo}}}]),e}();t.default=p,p.blockName="Big Ben",p.helpText="Big Ben is a clock generator. It outputs gate signals at a steady tempo, which is useful for advancing sequencers or triggering repetitive sounds.\n\nThe panel input lets you specify a tempo in beats per minute (BPM).\n\nThere are three gate outputs that emit gates at different time divisions of the specified tempo: gate16 is 16th notes, gate8 is 8th notes, and gate4 is quarter notes."},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),o=function(){function e(t,n){var a=this;r(this,e);var o=510,s=256,l=1024,u=new Float32Array(l),c=n.createAnalyser();c.fftSize=l;var d=n.createBuffer(1,2,n.sampleRate),p=d.getChannelData(0);p[0]=0,p[1]=0;var h=n.createBufferSource();h.buffer=d,h.loop=!0,h.start(),h.connect(c),this.inputs={audio:{type:"audio",node:c}},this.outputs={audio:{type:"audio",node:c}};var f=t.createElement("div");f.innerHTML=i,this.panelView=f.childNodes[0];var v=this.panelView.querySelector("canvas"),g=v.getContext("2d"),y=function e(){c.getFloatTimeDomainData(u);for(var t=0,n=0;n<l-o;n++)if(u[n]<=0&&u[n+1]>0){t=n;break}g.fillStyle="rgb(0, 0, 0)",g.fillRect(0,0,o,s),g.lineWidth=1,g.strokeStyle="rgb(0, 255, 0)",g.beginPath();for(var r=0;r<o;r++){var i=.5*s*(1-u[r+t]);0===r?g.moveTo(r,i):g.lineTo(r,i)}g.stroke(),a.rafId=requestAnimationFrame(e)};y()}return a(e,[{key:"deactivate",value:function(){cancelAnimationFrame(this.rafId)}}]),e}();t.default=o,o.blockName="Scope",o.helpText='Scope is an audio waveform visualizer, similar to an oscilloscope.\n\nScope visualizes the audio signal connected to its input. Its output is a copy of of its input, so it can be placed "in line" in a signal chain. However its output needn\'t be connected for it to work.\n\nThe vertical range of scope is [-1, 1], and the horizontal range is 510 samples, or about 12 milliseconds at a 44.1kHz sample rate.\n\nIf possible, Scope will align the displayed waveform so that it crosses zero at the left edge of the display. This can make wave shapes easier to discern. But if the input signal does not have a recent zero-crossing, alignment is not possible.'},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),i=function e(t,n,i){r(this,e);var o=1,s=440,l=.1,u=!1,c=function(e,t){t&&!u&&(d.frequency.setValueAtTime(s,e),d.frequency.exponentialRampToValueAtTime(o,e+l)),u=t},d=n.createOscillator();d.type="sine",d.frequency.value=o,d.start(),this.inputs={gate:{type:"gateEvent",notify:c}},this.outputs={audio:{type:"audio",node:d}};var p=t.createElement("div");p.innerHTML='<div style="box-sizing: border-box; width: 126px; height: 256px; padding: 5px; background-color: #e8a35f;position:relative"><div style="text-align:center;position:absolute;width:116px;bottom:0px"><img width="100" height="100" src='+a+"></div></div>",this.panelView=p.childNodes[0]};t.default=i,i.blockName="Thumper",i.helpText="Thumper is a simple kick drum synthesizer.\n\nIt has one gate input to trigger the kick, and one audio output with the resulting sound.\n\nThumper doesn't yet have any panel controls."},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this.audioContext=t,this.running=!1,this.timeoutID=null}return a(e,[{key:"start",value:function(e){var t=.05,n=.1,r=this,a=null,i=null,o=function o(){if(!r.running)throw new Error("Internal error: timeoutFunc called but scheduler not running");var s=r.audioContext.currentTime;null===a&&(a=s,i=s),i<s&&console.log("FELL BEHIND BY",s-i);var l=s+n;e({begin:i,end:l,relativeBegin:i-a,relativeEnd:l-a,start:a}),i=l,r.timeoutID=setTimeout(o,1e3*t)};this.running=!0,o()}},{key:"stop",value:function(){this.running=!1,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)}}]),e}();t.default=i},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function a(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!a(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],o(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),u=n.slice(),a=u.length,l=0;l<a;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,a&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),a||(a=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var a=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,a,o,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,a=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){a=s;break}if(a<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){e.exports="<div style=box-sizing:border-box;width:510px;height:256px;background-color:#000> <canvas width=510 height=256></canvas> </div> "},function(e,t){e.exports="\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' x='0px' y='0px' viewBox='0 0 100 100' enable-background='new 0 0 100 100' xml:space='preserve'%3E%3Cpath d='M93.7,88l-5.3-30.6c0.6-2.2,1-4.5,1.2-6.8c0.2,0.1,0.4,0.2,0.7,0.2l0.4,0c0.6,0,1.1-0.5,1.1-1.1l0-5.7 c0-0.6-0.5-1.1-1.1-1.1l-0.4,0c-0.3,0-0.5,0.1-0.7,0.2c-0.8-8.3-4.1-15.8-9.1-21.8c0.2-0.1,0.3-0.1,0.5-0.3l0.3-0.3 c0.4-0.4,0.4-1.2,0-1.6l-4-4c-0.4-0.4-1.2-0.4-1.6,0l-0.3,0.3c-0.1,0.1-0.2,0.3-0.3,0.5c-6.8-5.5-15.5-8.9-24.9-8.9v0 c0,0-1.5,0-2.1,0.1c-8.8,0.4-16.7,3.6-23.1,8.8c-0.1-0.1-0.1-0.3-0.3-0.4l-0.3-0.3c-0.4-0.4-1.2-0.4-1.6,0l-4,4 c-0.4,0.4-0.4,1.2,0,1.6l0.3,0.3c0.1,0.1,0.2,0.2,0.3,0.2c-5.1,6-8.3,13.6-9.1,21.8c-0.2-0.1-0.4-0.2-0.6-0.2l-0.4,0 c-0.6,0-1.1,0.5-1.1,1.1l0,5.7c0,0.6,0.5,1.1,1.1,1.1l0.4,0c0.2,0,0.4-0.1,0.6-0.2c0.2,2.3,0.6,4.6,1.3,6.8L6.3,88 C5.5,88.2,5,88.7,5,89.5v1.9c0,0.8,0.7,1.5,1.5,1.5h1.5c0.8,0,1.5-0.7,1.5-1.5v-1.9c0-0.7-0.4-1.2-1-1.4L13.1,62 c1.4,3.6,3.4,6.8,5.7,9.8c-0.1,0.1-0.2,0.1-0.3,0.2l-0.3,0.3c-0.4,0.4-0.4,1.2,0,1.6l4,4c0.4,0.4,1.2,0.4,1.6,0l0.3-0.3 c0.1-0.1,0.1-0.2,0.2-0.2c7,5.9,15.9,9.4,25.7,9.4c0.6,0,1.3,0,1.9,0c0.9,0,1.9-0.1,2.8-0.2c0,0,0.1,0,0.1,0c8.5-1,16.1-4.6,22-10 c0.1,0.1,0.2,0.3,0.3,0.4l0.3,0.3c0.5,0.4,1.2,0.4,1.6-0.1l3.8-4.2c0.4-0.5,0.4-1.2-0.1-1.6l-0.3-0.3c-0.1-0.1-0.3-0.2-0.4-0.2 c2-2.7,3.7-5.6,4.9-8.8l4.6,26.2c-0.6,0.2-1,0.7-1,1.4v1.9c0,0.8,0.7,1.5,1.5,1.5h1.5c0.8,0,1.5-0.7,1.5-1.5v-1.9 C95,88.7,94.5,88.2,93.7,88z M49,83.3c-1,0-2.1-0.1-3.1-0.2v-8.6H49V83.3z M54.3,83.1c-0.8,0.1-1.7,0.2-2.6,0.2c-0.2,0-0.3,0-0.5,0 v-8.8h3V83.1z M56.6,82.7v-8.2c0-1.3-1-2.3-2.3-2.3h-3V53.6h0.5c1.9,0,3.4-1.5,3.4-3.4v-4.4c0-1.9-1.5-3.4-3.4-3.4h-3.5 c-1.9,0-3.4,1.5-3.4,3.4v4.4c0,1.9,1.5,3.4,3.4,3.4H49v18.6h-3.1c-1.3,0-2.3,1-2.3,2.3v8.2c-16.5-2.9-29.2-16.8-30-34.1 c-0.5-9.7,2.9-19,9.4-26.2c6.5-7.2,15.5-11.4,25.2-11.9c0.6,0,1.2,0,1.8,0c19.4,0,35.4,15.2,36.4,34.7 C87.3,63.6,74.2,79.5,56.6,82.7z'%3E%3C/path%3E%3C/svg%3E\""},function(e,t,n){"use strict";function r(){var e,t;return e=new a.uint16(1),e[0]=4660,t=new a.uint8(e.buffer),52===t[0]}var a=n(50);e.exports=r()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){for(;e.firstChild;)e.removeChild(e.firstChild)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(27),l=n(34),u=n(35),c=function(){function e(){r(this,e),this.value=1}return o(e,[{key:"set",value:function(e){this.value=e}},{key:"next",value:function(){return this.value++}}]),e}(),d=function(e,t){var n=function n(a,i,o){r(this,n),this.inputs={},this.outputs={};var s=a.createElement("div");s.innerHTML='<div style="box-sizing:border-box;width:62px;height:256px;text-align:center;font-size:14px;background:#ccc;color:black;padding:95px 5px"><img width="52" height="52" src='+(t?l:u)+"><br>"+(t?"IN":"OUT")+"</div>",this.panelView=s.firstChild;var c=t?e.inputs:e.outputs,d=t?this.outputs:this.inputs,p=function(e,t){if(c[e])throw new Error("port name already exists");switch(t){case"audio":var n=i.createGain();c[e]={type:"audio",node:n},d[e]={type:"audio",node:n};break;default:throw new Error("Unsupported rack port type")}};if(o)for(var h in o.p)p(h,o.p[h].t);else t||p("audio","audio");this.save=function(){var e={};for(var t in d)e[t]={t:d[t].type};return{p:e}}};return n.blockName=t?"Rack Inputs":"Rack Outputs",n.helpText=t?"Rack Inputs is a special block that lets you output audio from the rack.\n\nAny input signals provided to the rack can be accessed via the output ports of the Rack Inputs block.\n\nUnlike normal blocks, there can be only one Rack Inputs block in a rack, and it can't be deleted.":"Rack Outputs is a special block that lets you output signals from the rack. Currently, it only supports a single audio signal.\n\nConnect any audio signal to the Rack Outputs audio input, and that signal will be the final output of the rack.\n\nUnlike normal blocks, there can be only one Rack Outputs block in a rack, and it can't be deleted.",n};t.default=function(e){var t=function(){function t(n,o,l){r(this,t);var u="__ri",p="__ro",h="ro",f=Object.assign({},e);f[u]=d(this,!0),f[p]=d(this,!1),this.inputs={},this.outputs={};var v=n.createElement("div");v.innerHTML=s,this.windowView=v.childNodes[0];var g=null,y=null,m=null,b=null,w=!1,x=this.windowView.querySelector(".block-palette"),L=this.windowView.querySelector(".delete-wires-button"),k=this.windowView.querySelector(".block-container"),E=this.windowView.querySelector(".patch-input-select"),M=this.windowView.querySelector(".patch-output-select"),I=this.windowView.querySelector(".patch-connect-button"),N=this.windowView.querySelector(".patch-connection-list"),T=n.createElement("canvas");T.style.cssText="position:absolute;pointer-events:none",this.windowView.appendChild(T);var D=n.createElement("canvas");D.style.cssText="position:absolute;pointer-events:none",this.windowView.appendChild(D);var S="application/prs.plinth-block-class-id",A=function(t){var r=e[t],a=n.createElement("div");a.textContent=r.blockName,a.setAttribute("draggable",!0),a.setAttribute("title","Click for help"),a.style.cssText="padding:5px 10px;margin:6px 0;color:#222;background:#bbb;cursor:move;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab",x.appendChild(a),a.addEventListener("dragstart",function(e){e.dataTransfer.setData(S,t)},!1),function(){a.addEventListener("click",function(){Y(r)})}(),a.addEventListener("mouseenter",function(e){e.target.style.background="#ddd"}),a.addEventListener("mouseleave",function(e){e.target.style.background="#bbb"})};for(var C in e)A(C);var j={},z={},O=new c,_=new c,P=!0,B=this.windowView.querySelector(".block-help-panel"),R=this.windowView.querySelector(".block-help-title"),U=this.windowView.querySelector(".block-help-body"),V=function(e){var t=n.createElement("div"),r=!0,a=!1,i=void 0;try{for(var o,s=e.split("\n")[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=n.createElement("p");u.textContent=l,t.appendChild(u)}}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return t},Y=function(e){B.style.display="block",R.textContent=e.blockName,e.helpText?(U.innerHTML="",U.appendChild(V(e.helpText))):U.innerHTML="<em>No help text available</em>"},F=function(){B.style.display="none"};B.querySelector(".block-help-panel-close-button").addEventListener("click",function(){F()});var H=function(){a(N);var e=function(e){var t=z[e],r=j[t.outBlockId].displayName+":"+t.outPortName+" → "+j[t.inBlockId].displayName+":"+t.inPortName,a=n.createElement("li");a.appendChild(n.createTextNode(r+" "));var i=n.createElement("button");i.textContent="remove",i.addEventListener("click",function(){be(e)}),a.appendChild(i),N.appendChild(a)};for(var t in z)e(t)},q=function(e){var t=e.outBlockId,n=e.outPortName,r=e.inBlockId,a=e.inPortName,i=j[t].instance,o=j[r].instance;if(!i.outputs.hasOwnProperty(n))return!1;if(!o.inputs.hasOwnProperty(a))return!1;for(var s in z){var l=z[s];if(l.outBlockId===t&&l.outPortName===n&&l.inBlockId===r&&l.inPortName===a)return!1}return i.outputs[n].type===o.inputs[a].type},W=function(){var e=E.value,t=M.value;if(!e||!t)return null;var n=e.split(":"),r=i(n,2),a=r[0],o=r[1],s=t.split(":"),l=i(s,2),u=l[0],c=l[1];return{inBlockId:a,inPortName:o,outBlockId:u,outPortName:c}},Q=function(){var e=W();I.disabled=!(e&&q(e))},G=function(){var e={},t={};for(var r in j){var i=j[r].instance,o=j[r].displayName;for(var s in i.inputs)e[r+":"+s]=o+":"+s;for(var l in i.outputs)t[r+":"+l]=o+":"+l}a(E);for(var u in e){var c=n.createElement("option");c.textContent=e[u]+" IN",c.value=u,E.appendChild(c)}a(M);for(var d in t){var c=n.createElement("option");c.textContent=t[d]+" OUT",c.value=d,M.appendChild(c)}Q()},X=function(e){var t=j[e].wrapperElem;if(t){var n=t.firstChild,r=t.lastChild;r.style.width=n.offsetWidth+"px",r.style.height=n.offsetHeight+"px"}},Z=function(){for(var e in j){var t=j[e].wrapperElem;t&&(P?(t.firstChild.style.display="block",t.lastChild.style.display="none"):(t.firstChild.style.display="none",t.lastChild.style.display="block"))}ee(),ne(),ae()},J=function(){if(P)for(var e in j)X(e);P=!P,Z()},K=function(e,t){e.style.left=t.offsetLeft,e.style.top=t.offsetTop,e.style.width=t.offsetWidth,e.style.height=t.offsetHeight,e.width=t.offsetWidth,e.height=t.offsetHeight},$=function(e,t,n){var r=j[e].jackContainerElem.querySelector('.port-jack[data-inout="'+t+'"][data-portname="'+n+'"]');return{x:r.offsetLeft+("output"===t?r.offsetWidth-12:12)-k.scrollLeft,y:r.offsetTop+.5*r.offsetHeight-k.scrollTop}},ee=function(){var e=[];return P?T.style.display="none":!function(){T.style.display="block";var t=k;K(T,t);var n=T.getContext("2d"),r=T.width,a=T.height;n.clearRect(0,0,r,a),n.lineCap="round",n.globalAlpha=.5;var i=function(r){var a=z[r],i=$(a.outBlockId,"output",a.outPortName),o=$(a.inBlockId,"input",a.inPortName),s=function(){n.beginPath(),n.moveTo(i.x-t.offsetLeft,i.y-t.offsetTop),n.lineTo(o.x-t.offsetLeft,o.y-t.offsetTop),n.stroke()},l=!1;w&&(n.strokeStyle="rgba(0, 0, 0, 0)",n.lineWidth=20,s(),l=n.isPointInStroke(b.x-t.offsetLeft,b.y-t.offsetTop)),n.strokeStyle=l?"rgb(255, 0, 0)":"rgb(0, 255, 0)",n.lineWidth=6,s(),l&&e.push(r)};for(var o in z)i(o)}(),e},te=function(){if(m){if("input"===g.dataset.inout){if("input"===m.dataset.inout)return null;if("output"===m.dataset.inout)return{outBlockId:m.dataset.blockid,outPortName:m.dataset.portname,inBlockId:g.dataset.blockid,inPortName:g.dataset.portname};throw new Error("internal error")}if("output"===g.dataset.inout){if("input"===m.dataset.inout)return{outBlockId:g.dataset.blockid,outPortName:g.dataset.portname,inBlockId:m.dataset.blockid,inPortName:m.dataset.portname};if("output"===m.dataset.inout)return null;throw new Error("internal error")}throw new Error("internal error")}return null},ne=function(){if(P||!g)D.style.display="none";else{D.style.display="block";var e=$(g.dataset.blockid,g.dataset.inout,g.dataset.portname),t=te(),n=t&&q(t),r=k;K(D,r);var a=D.getContext("2d"),i=D.width,o=D.height;a.clearRect(0,0,i,o),a.lineWidth=6,a.lineCap="round",a.strokeStyle=n?"rgb(0, 255, 0)":"rgb(255,105,180)",a.globalAlpha=.75,a.beginPath(),a.moveTo(e.x-r.offsetLeft,e.y-r.offsetTop),a.lineTo(y.x-r.offsetLeft,y.y-r.offsetTop),a.stroke()}},re=function(e){var t=j[e].displayName,n={};for(var r in j)r!==e&&(n[j[r].displayName]=null);if(n.hasOwnProperty(t))for(var a=2;;a++){var i=t+" "+a;if(!n.hasOwnProperty(i))return void(j[e].displayName=i)}},ae=function(){L.style.color=P?"rgb(92, 104, 97)":"#9aada2",L.style.cursor=P?"default":"pointer",L.style.backgroundColor=!P&&w?"rgb(170,0,0)":"transparent",L.disabled=P},ie=function(){w?(w=!1,ee()):(g=null,y=null,w=!0,m&&(m.style.backgroundColor=de,m.style.cursor="default"),ee(),ne()),ae()},oe=function(){if(!g)throw new Error("internal error");if(m){var e=te();e&&q(e)&&me(e)}g=null,y=null},se=function(e){if(!w){e.preventDefault();var t=e.currentTarget;g?oe():(g=t,y={x:e.pageX,y:e.pageY}),ne()}},le=function(e){if(w){var t=ee();if(t.length>0){e.preventDefault();var n=!0,r=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;be(s)}}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}}}};n.addEventListener("mousedown",le,!1);var ue=function(e){g&&(e.preventDefault(),m===g||(oe(),ne()))};n.addEventListener("mouseup",ue,!1);var ce=function(e){b={x:e.pageX,y:e.pageY},!P&&w&&ee(),g&&(y={x:e.pageX,y:e.pageY},ne())};n.addEventListener("mousemove",ce,!1);var de="#bbb",pe="#eee",he=function(e){var t=e.currentTarget;w||(t.style.backgroundColor=pe,t.style.cursor="pointer"),m=t},fe=function(e){var t=e.currentTarget;t.style.backgroundColor=de,t.style.cursor="default",m=null},ve=function(e,t,r,a){var i=n.createElement("div");i.style.cssText="color:black;font-size:12px;display:inline-block;box-sizing:border-box;border:1px solid #555;margin:2px 0;padding:3px 6px;border-radius:2px;word-break:break-word;cursor:pointer;user-select:none",i.style.backgroundColor=de,i.dataset.blockid=e,i.dataset.inout=t,i.dataset.portname=r,i.className="port-jack",i.addEventListener("mousedown",se,!1),i.addEventListener("mouseenter",he,!1),i.addEventListener("mouseleave",fe,!1),i.textContent="input"===t?"▷ "+r:r+" ►";var o=n.createElement("div");return a&&(o.style.textAlign="right"),o.appendChild(i),o},ge=function(e,t,r,a){var i=f[e],s=new i(n,o,t),l=r||"b"+O.next();j[l]={id:l,blockClassId:e,instance:s,displayName:a||i.blockName,wrapperElem:void 0,jackContainerElem:void 0},re(l);var u=void 0;if(s.panelView)u=s.panelView;else{var c=62,d=256,p=n.createElement("div");p.innerHTML='<div style="box-sizing:border-box;width:'+c+"px;height:"+d+'px;text-align:center;font-size:14px;background:white;font-style:italic;color:gray;padding:100px 5px">No panel view</div>',u=p.firstChild}var h=n.createElement("div");h.style.cssText="margin: 1px",h.setAttribute("data-blockid",l),h.appendChild(u),k.appendChild(h),j[l].wrapperElem=h;var v=n.createElement("a");v.style.cssText="float:right;color: #ccc;text-decoration: none;margin-right:3px",v.href="#",v.textContent="?",v.addEventListener("click",function(e){e.preventDefault(),Y(i)});var g=n.createElement("a");g.style.cssText="float:right;color: #ccc;text-decoration: none",g.href="#",g.textContent="X",g.addEventListener("click",function(e){e.preventDefault(),ye(l)});var y=n.createElement("div");y.style.cssText="background-color: #555; font-size: 12px; padding: 4px 6px; color: #ccc",e.startsWith("__")||y.appendChild(g),y.appendChild(v),y.appendChild(n.createTextNode(j[l].displayName));var m=n.createElement("div");m.style.cssText="padding: 5px",j[l].jackContainerElem=m;var b=n.createElement("div");b.style.cssText="background-color:#ddd",b.appendChild(y),b.appendChild(m),h.appendChild(b);for(var w in s.inputs)m.appendChild(ve(l,"input",w));for(var x in s.outputs)m.appendChild(ve(l,"output",x,!0));X(l),Z(),G()},ye=function(e){var t=[];for(var n in z){var r=z[n];r.outBlockId!==e&&r.inBlockId!==e||t.push(n)}var a=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;be(u)}}catch(e){i=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw o}}k.removeChild(j[e].wrapperElem);var c=j[e].instance;c.deactivate&&c.deactivate(),delete j[e],G()},me=function(e){var t=e.outBlockId,n=e.outPortName,r=e.inBlockId,a=e.inPortName,i="c"+_.next(),o={outBlockId:t,outPortName:n,inBlockId:r,inPortName:a,disconnect:void 0};z[i]=o;var s=j[t].instance,l=j[r].instance;!function(){switch(s.outputs[n].type){case"audio":var e=s.outputs[n].node,t=l.inputs[a].node;e.connect(t),o.disconnect=function(){e.disconnect(t)};break;case"gateEvent":o.disconnect=s.outputs[n].subscribe(l.inputs[a].notify);break;default:throw new Error("Invalid port type")}}(),H(),Q(),ee()},be=function(e){var t=z[e];t.disconnect(),delete z[e],H(),Q(),ee()};E.addEventListener("input",function(){Q()}),M.addEventListener("input",function(){Q()}),I.addEventListener("click",function(e){e.preventDefault();var t=W();if(t)return q(t)?void me(t):void console.log("invalid")});var we=function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=e.types[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;if(o===S)return e.getData(S)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return null};if(k.addEventListener("dragover",function(e){we&&(e.dataTransfer.dropEffect="copy"),e.preventDefault(),e.stopPropagation()},!1),k.addEventListener("drop",function(e){var t=we(e.dataTransfer);t&&ge(t),e.preventDefault(),e.stopPropagation()},!1),l){var xe=!0,Le=!1,ke=void 0;try{for(var Ee,Me=l.bo[Symbol.iterator]();!(xe=(Ee=Me.next()).done);xe=!0){var Ie=Ee.value,Ne=l.bm[Ie];ge(Ne.b,Ne.s,Ie,Ne.n)}}catch(e){Le=!0,ke=e}finally{try{!xe&&Me.return&&Me.return()}finally{if(Le)throw ke}}var Te=[],De=!0,Se=!1,Ae=void 0;try{for(var Ce,je=l.bo[Symbol.iterator]();!(De=(Ce=je.next()).done);De=!0){var ze=Ce.value;"b"===ze[0]&&Te.push(+ze.slice(1))}}catch(e){Se=!0,Ae=e}finally{try{!De&&je.return&&je.return()}finally{if(Se)throw Ae}}O.set(Math.max.apply(Math,Te)+1);var Oe=!0,_e=!1,Pe=void 0;try{for(var Be,Re=l.c[Symbol.iterator]();!(Oe=(Be=Re.next()).done);Oe=!0){var Ue=Be.value;me({outBlockId:Ue.ob,outPortName:Ue.op,inBlockId:Ue.ib,inPortName:Ue.ip})}}catch(e){_e=!0,Pe=e}finally{try{!Oe&&Re.return&&Re.return()}finally{if(_e)throw Pe}}}else ge(p,null,h,"Rack Outputs");var Ve=function(e){e.target!==n.body&&e.target!=n.documentElement||(32===e.keyCode?(J(),e.preventDefault()):68===e.keyCode&&(P||(ie(),e.preventDefault())))};n.addEventListener("keydown",Ve),this.windowView.querySelector(".toggle-front-back-button").addEventListener("click",function(){J()}),L.addEventListener("click",function(){ie()}),k.addEventListener("scroll",function(){ee(),ne()});var Ye=function(){ee(),ne()};window.addEventListener("resize",Ye),Q(),G(),ee(),this.deactivate=function(){var e=[];for(var t in j)e.push(t);var r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;ye(l)}}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}n.removeEventListener("keydown",Ve),n.removeEventListener("mousedown",le,!1),n.removeEventListener("mouseup",ue,!1),
n.removeEventListener("mousemove",ce,!1),window.removeEventListener("resize",Ye)},this.blockInfo=j,this.blockContainerElem=k,this.cxnInfo=z,this.removeBlock=ye}return o(t,[{key:"save",value:function(){var e={};for(var t in this.blockInfo){var n=this.blockInfo[t];e[t]={b:n.blockClassId,s:n.instance.save?n.instance.save():null,n:n.displayName}}var r=[],a=!0,i=!1,o=void 0;try{for(var s,l=this.blockContainerElem.childNodes[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value,c=u.dataset.blockid;if(!c||!e[c])throw new Error("internal error");r.push(u.dataset.blockid)}}catch(e){i=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw o}}var d=[];for(var p in this.cxnInfo){var h=this.cxnInfo[p];d.push({ob:h.outBlockId,op:h.outPortName,ib:h.inBlockId,ip:h.inPortName})}return{bm:e,bo:r,c:d}}}]),t}();return t.blockName="Racket",t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=[];n.push(u+"\n");var r=(0,o.extractBlobs)(t),a=r.newObj,i=r.hashMap,s=Object.keys(i).sort(),l={},c=0,d=!0,p=!1,h=void 0;try{for(var f,v=s[Symbol.iterator]();!(d=(f=v.next()).done);d=!0){var g=f.value,y=i[g].byteLength;l[g]={l:y,o:c},c+=y}}catch(e){p=!0,h=e}finally{try{!d&&v.return&&v.return()}finally{if(p)throw h}}var m={b:e,s:a,h:l};return n.push(JSON.stringify(m)),n.push("\n"),s.forEach(function(e){n.push(i[e])}),new Blob(n,{type:"application/prs.plinth-preset"})}function i(e){var t=new Uint8Array(e),n="\n".charCodeAt(0),r=t.indexOf(n);if(r<0)throw new Error("Missing first newline");var a=l.default.getStringFromBytes(t.subarray(0,r));if(a!==u)throw new Error("Invalid preset");var i=t.indexOf(n,r+1);if(i<0)throw new Error("Missing second newline");var s=l.default.getStringFromBytes(t.subarray(r,i)),c=JSON.parse(s),d={};for(var p in c.h){var h=c.h[p],f=h.o,v=h.l,g=i+1+f;d[p]=e.slice(g,g+v)}var y=(0,o.injectBlobs)(c.s,d);return{blockClassId:c.b,settings:y}}Object.defineProperty(t,"__esModule",{value:!0}),t.presetSaveToBlob=a,t.presetLoadFromArrayBuffer=i;var o=n(16),s=n(36),l=r(s),u="plinthPresetVersion:1"},function(e,t){!function(e){function t(t){t=t||{},h=navigator.userAgent.match(/OS [1-4](?:_\d+)+ like Mac/)?"page":"client";var i=e.createElement("div"),o="draggable"in i,s="ondragstart"in i&&"ondrop"in i,l=!(o||s)||/iPad|iPhone|iPod|Android/.test(navigator.userAgent);c((l?"":"not ")+"patching html5 drag drop"),l&&(t.enableEnterLeave||(n.prototype.synthesizeEnterLeave=p),t.holdToDrag?e.addEventListener("touchstart",r(t.holdToDrag)):e.addEventListener("touchstart",a))}function n(e,t){this.dragData={},this.dragDataTypes=[],this.dragImage=null,this.dragImageTransform=null,this.dragImageWebKitTransform=null,this.customDragImage=null,this.customDragImageX=null,this.customDragImageY=null,this.el=t||e.target,c("dragstart"),this.dispatchDragStart()&&(this.createDragImage(),this.listen())}function r(e){return function(t){var n=t.target;if(n.draggable===!0)var r=function(){l.off(),u.off(),c.off(),a(t)},i=function(){l.off(),u.off(),c.off(),clearTimeout(o)},o=setTimeout(r,e),l=s(n,"touchend",i,this),u=s(n,"touchcancel",i,this),c=s(window,"scroll",i,this)}}function a(t){var r=t.target;do if(r.draggable===!0){if(!r.hasAttribute("draggable")&&"a"==r.tagName.toLowerCase()){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,r.ownerDocument.defaultView,1,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),r.dispatchEvent(a),c("Simulating click to anchor")}t.preventDefault(),new n(t,r);break}while((r=r.parentNode)&&r!==e.body)}function i(t,n){var r=n.changedTouches[0],a=e.elementFromPoint(r[h+"X"],r[h+"Y"]);return a}function o(e){var t=e.getBoundingClientRect();return{x:t.left,y:t.top}}function s(e,t,n,r){return r&&(n=n.bind(r)),e.addEventListener(t,n),{off:function(){return e.removeEventListener(t,n)}}}function l(e,t,n,r){function a(r){return n(r),e.removeEventListener(t,a)}return r&&(n=n.bind(r)),e.addEventListener(t,a)}function u(e,t){if(1==e.nodeType){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),t.removeAttribute("draggable");for(var n=window.getComputedStyle(e),r=0;r<n.length;r++){var a=n[r];t.style.setProperty(a,n.getPropertyValue(a),n.getPropertyPriority(a))}t.style.pointerEvents="none"}if(e.hasChildNodes())for(var i=0;i<e.childNodes.length;i++)u(e.childNodes[i],t.childNodes[i])}function c(e){console.log(e)}function d(e){return 0===e.length?0:e.reduce(function(e,t){return t+e},0)/e.length}function p(){}c=p;var h;n.prototype={listen:function(){function t(e){this.dragend(e,e.target),n.call(this)}function n(){return c("cleanup"),this.dragDataTypes=[],null!==this.dragImage&&(this.dragImage.parentNode.removeChild(this.dragImage),this.dragImage=null,this.dragImageTransform=null,this.dragImageWebKitTransform=null),this.customDragImage=null,this.customDragImageX=null,this.customDragImageY=null,this.el=this.dragData=null,[r,a,i].forEach(function(e){return e.off()})}var r=s(e,"touchmove",this.move,this),a=s(e,"touchend",t,this),i=s(e,"touchcancel",n,this)},move:function(e){e.preventDefault();var t=[],n=[];[].forEach.call(e.changedTouches,function(e){t.push(e.pageX),n.push(e.pageY)});var r=d(t)-(this.customDragImageX||parseInt(this.dragImage.offsetWidth,10)/2),a=d(n)-(this.customDragImageY||parseInt(this.dragImage.offsetHeight,10)/2);this.translateDragImage(r,a),this.synthesizeEnterLeave(e)},translateDragImage:function(e,t){var n="translate("+e+"px,"+t+"px) ";null!==this.dragImageWebKitTransform&&(this.dragImage.style["-webkit-transform"]=n+this.dragImageWebKitTransform),null!==this.dragImageTransform&&(this.dragImage.style.transform=n+this.dragImageTransform)},synthesizeEnterLeave:function(e){var t=i(this.el,e);t!=this.lastEnter&&(this.lastEnter&&this.dispatchLeave(e),this.lastEnter=t,this.lastEnter&&this.dispatchEnter(e)),this.lastEnter&&this.dispatchOver(e)},dragend:function(t){c("dragend"),this.lastEnter&&this.dispatchLeave(t);var n=i(this.el,t);n?(c("found drop target "+n.tagName),this.dispatchDrop(n,t)):c("no drop target");var r=e.createEvent("Event");r.initEvent("dragend",!0,!0),this.el.dispatchEvent(r)},dispatchDrop:function(t,n){var r=e.createEvent("Event");r.initEvent("drop",!0,!0);var a=n.changedTouches[0],i=a[h+"X"],s=a[h+"Y"],u=o(t);r.offsetX=i-u.x,r.offsetY=s-u.y,r.dataTransfer={types:this.dragDataTypes,getData:function(e){return this.dragData[e]}.bind(this),dropEffect:"move"},r.preventDefault=function(){}.bind(this),l(e,"drop",function(){c("drop event not canceled")},this),t.dispatchEvent(r)},dispatchEnter:function(t){var n=e.createEvent("Event");n.initEvent("dragenter",!0,!0),n.dataTransfer={types:this.dragDataTypes,getData:function(e){return this.dragData[e]}.bind(this)};var r=t.changedTouches[0];n.pageX=r.pageX,n.pageY=r.pageY,n.clientX=r.clientX,n.clientY=r.clientY,this.lastEnter.dispatchEvent(n)},dispatchOver:function(t){var n=e.createEvent("Event");n.initEvent("dragover",!0,!0),n.dataTransfer={types:this.dragDataTypes,getData:function(e){return this.dragData[e]}.bind(this)};var r=t.changedTouches[0];n.pageX=r.pageX,n.pageY=r.pageY,n.clientX=r.clientX,n.clientY=r.clientY,this.lastEnter.dispatchEvent(n)},dispatchLeave:function(t){var n=e.createEvent("Event");n.initEvent("dragleave",!0,!0),n.dataTransfer={types:this.dragDataTypes,getData:function(e){return this.dragData[e]}.bind(this)};var r=t.changedTouches[0];n.pageX=r.pageX,n.pageY=r.pageY,n.clientX=r.clientX,n.clientY=r.clientY,this.lastEnter.dispatchEvent(n),this.lastEnter=null},dispatchDragStart:function(){var t=e.createEvent("Event");return t.initEvent("dragstart",!0,!0),t.dataTransfer={setData:function(e,t){return this.dragData[e]=t,this.dragDataTypes.indexOf(e)==-1&&(this.dragDataTypes[this.dragDataTypes.length]=e),t}.bind(this),setDragImage:function(e,t,n){this.customDragImage=e,this.customDragImageX=t,this.customDragImageY=n}.bind(this),dropEffect:"move"},this.el.dispatchEvent(t)},createDragImage:function(){this.customDragImage?(this.dragImage=this.customDragImage.cloneNode(!0),u(this.customDragImage,this.dragImage)):(this.dragImage=this.el.cloneNode(!0),u(this.el,this.dragImage)),this.dragImage.style.opacity="0.5",this.dragImage.style.position="absolute",this.dragImage.style.left="0px",this.dragImage.style.top="0px",this.dragImage.style.zIndex="999999";var t=this.dragImage.style.transform;"undefined"!=typeof t&&(this.dragImageTransform="","none"!=t&&(this.dragImageTransform=t.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,"")));var n=this.dragImage.style["-webkit-transform"];"undefined"!=typeof n&&(this.dragImageWebKitTransform="","none"!=n&&(this.dragImageWebKitTransform=n.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""))),this.translateDragImage(-9999,-9999),e.body.appendChild(this.dragImage)}},t(window.iosDragDropShim)}(document)},function(e,t,n){var r,a=a||function(e){"use strict";if(!("undefined"==typeof e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in r,i=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},o=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u="application/octet-stream",c=4e4,d=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,c)},p=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var a=e["on"+t[r]];if("function"==typeof a)try{a.call(e,n||e)}catch(e){l(e)}}},h=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},f=function(t,l,c){c||(t=h(t));var f,v=this,g=t.type,y=g===u,m=function(){p(v,"writestart progress write writeend".split(" "))},b=function(){if((s||y&&o)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=s?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=e.open(t,"_blank");n||(e.location.href=t),t=void 0,v.readyState=v.DONE,m()},r.readAsDataURL(t),void(v.readyState=v.INIT)}if(f||(f=n().createObjectURL(t)),y)e.location.href=f;else{var a=e.open(f,"_blank");a||(e.location.href=f)}v.readyState=v.DONE,m(),d(f)};return v.readyState=v.INIT,a?(f=n().createObjectURL(t),void setTimeout(function(){r.href=f,r.download=l,i(r),m(),d(f),v.readyState=v.DONE})):void b()},v=f.prototype,g=function(e,t,n){return new f(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=h(e)),navigator.msSaveOrOpenBlob(e,t)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof e&&e.exports?e.exports.saveAs=a:null!==n(37)&&null!==n(38)&&(r=function(){return a}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))},function(e,t,n){var r,a=function(){function e(e,t){if(!a[e]){a[e]={};for(var n=0;n<e.length;n++)a[e][e.charAt(n)]=n}return a[e][t]}var t=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={},i={compressToBase64:function(e){if(null==e)return"";var t=i._compress(e,6,function(e){return n.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:i._decompress(t.length,32,function(r){return e(n,t.charAt(r))})},compressToUTF16:function(e){return null==e?"":i._compress(e,15,function(e){return t(e+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),r=0,a=t.length;r<a;r++){var o=t.charCodeAt(r);n[2*r]=o>>>8,n[2*r+1]=o%256}return n},decompressFromUint8Array:function(e){if(null===e||void 0===e)return i.decompress(e);for(var n=new Array(e.length/2),r=0,a=n.length;r<a;r++)n[r]=256*e[2*r]+e[2*r+1];var o=[];return n.forEach(function(e){o.push(t(e))}),i.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,function(e){return r.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),i._decompress(t.length,32,function(n){return e(r,t.charAt(n))}))},compress:function(e){return i._compress(e,16,function(e){return t(e)})},_compress:function(e,t,n){if(null==e)return"";var r,a,i,o={},s={},l="",u="",c="",d=2,p=3,h=2,f=[],v=0,g=0;for(i=0;i<e.length;i+=1)if(l=e.charAt(i),Object.prototype.hasOwnProperty.call(o,l)||(o[l]=p++,s[l]=!0),u=c+l,Object.prototype.hasOwnProperty.call(o,u))c=u;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<h;r++)v<<=1,g==t-1?(g=0,f.push(n(v)),v=0):g++;for(a=c.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&a,g==t-1?(g=0,f.push(n(v)),v=0):g++,a>>=1}else{for(a=1,r=0;r<h;r++)v=v<<1|a,g==t-1?(g=0,f.push(n(v)),v=0):g++,a=0;for(a=c.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&a,g==t-1?(g=0,f.push(n(v)),v=0):g++,a>>=1}d--,0==d&&(d=Math.pow(2,h),h++),delete s[c]}else for(a=o[c],r=0;r<h;r++)v=v<<1|1&a,g==t-1?(g=0,f.push(n(v)),v=0):g++,a>>=1;d--,0==d&&(d=Math.pow(2,h),h++),o[u]=p++,c=String(l)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<h;r++)v<<=1,g==t-1?(g=0,f.push(n(v)),v=0):g++;for(a=c.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&a,g==t-1?(g=0,f.push(n(v)),v=0):g++,a>>=1}else{for(a=1,r=0;r<h;r++)v=v<<1|a,g==t-1?(g=0,f.push(n(v)),v=0):g++,a=0;for(a=c.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&a,g==t-1?(g=0,f.push(n(v)),v=0):g++,a>>=1}d--,0==d&&(d=Math.pow(2,h),h++),delete s[c]}else for(a=o[c],r=0;r<h;r++)v=v<<1|1&a,g==t-1?(g=0,f.push(n(v)),v=0):g++,a>>=1;d--,0==d&&(d=Math.pow(2,h),h++)}for(a=2,r=0;r<h;r++)v=v<<1|1&a,g==t-1?(g=0,f.push(n(v)),v=0):g++,a>>=1;for(;;){if(v<<=1,g==t-1){f.push(n(v));break}g++}return f.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(e,n,r){var a,i,o,s,l,u,c,d,p=[],h=4,f=4,v=3,g="",y=[],m={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)p[i]=i;for(s=0,u=Math.pow(2,2),c=1;c!=u;)l=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),s|=(l>0?1:0)*c,c<<=1;switch(a=s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)l=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),s|=(l>0?1:0)*c,c<<=1;d=t(s);break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)l=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),s|=(l>0?1:0)*c,c<<=1;d=t(s);break;case 2:return""}for(p[3]=d,o=d,y.push(d);;){if(m.index>e)return"";for(s=0,u=Math.pow(2,v),c=1;c!=u;)l=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),s|=(l>0?1:0)*c,c<<=1;switch(d=s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)l=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),s|=(l>0?1:0)*c,c<<=1;p[f++]=t(s),d=f-1,h--;break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)l=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),s|=(l>0?1:0)*c,c<<=1;p[f++]=t(s),d=f-1,h--;break;case 2:return y.join("")}if(0==h&&(h=Math.pow(2,v),v++),p[d])g=p[d];else{if(d!==f)return null;g=o+o.charAt(0)}y.push(g),p[f++]=o+g.charAt(0),h--,o=g,0==h&&(h=Math.pow(2,v),v++)}}};return i}();r=function(){return a}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){function r(e){return n(a(e))}function a(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./bigben/block.js":2,"./convolux/block.js":17,"./egen/block.js":18,"./gainer/block.js":19,"./orinami/block.js":20,"./remark/block.js":21,"./scope/block.js":3,"./thumper/block.js":4,"./verbatim/block.js":22,"./waverly/block.js":23};r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=15},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return Array.isArray(e)}function o(e){return"object"===("undefined"==typeof e?"undefined":p(e))&&null!==e&&e.constructor===Object}function s(e){var t="undefined"==typeof e?"undefined":p(e);return null===e||"undefined"===t||"number"===t||"string"===t||"boolean"===t}function l(e,t){var n=t(e),r=n.replace,a=n.replacementValue;if(r)return a;if(i(e))return e.map(function(e){return l(e,t)});if(o(e)){var u={};for(var c in e)e.hasOwnProperty(c)&&(u[c]=l(e[c],t));return u}if(!s(e))throw new Error("unserializable value found during traversal");return e}function u(e){return(new f.default).digestFromArrayBuffer(e)}function c(e){var t={},n=l(e,function(e){if(e instanceof ArrayBuffer){var n,r=u(e);return t[r]=e,{replace:!0,replacementValue:(n={},a(n,v,null),a(n,"t","ArrayBuffer"),a(n,"h",r),n)}}if(o(e)&&e.hasOwnProperty(v))throw new Error("Found magic key, need escaping");return{replace:!1}});return{newObj:n,hashMap:t}}function d(e,t){return l(e,function(e){if(o(e)&&e.hasOwnProperty(v)){var n=void 0;switch(e.t){case"ArrayBuffer":n=t[e.h];break;default:throw new Error("unrecognized blob type")}return{replace:!0,replacementValue:n}}return{replace:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.extractBlobs=c,t.injectBlobs=d;var h=n(31),f=r(h),v="@*$^#%"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(24),i=function e(t,n,i){r(this,e);var o=n.createGain();o.gain.value=1;var s=n.createConvolver();s.normalize=!0;var l=n.createGain(),u=n.createGain(),c=n.createGain();c.gain.value=1,o.connect(s),o.connect(l),s.connect(u),l.connect(c),u.connect(c);var d=[],p=null,h=void 0,f=void 0,v=function(){f||null===p?(l.gain.value=1,u.gain.value=0):(l.gain.value=Math.sqrt(1-h),u.gain.value=Math.sqrt(h))},g=function(e){if(h=e,h<0&&h>1)throw new Error("internal error");v(),E.value=e},y=function(e){if(f=e,"boolean"!=typeof f)throw new Error("internal error");v()},m=function(e){if(null===e)p=e,s.buffer=null;else{var t=d[e].responseBuffer;t?(p=e,s.buffer=t):console.warn("Warning: Can't switch to response, buffer is missing")}L.value=p,T(),v()},b=function(e,t,r){var a={name:e,responseBuffer:null,responseFileData:t},i=d.length;d.push(a),k(),n.decodeAudioData(t,function(e){a.responseBuffer=e,k(),r&&m(i)},function(){console.warn("Failed to decode audio file")})},w=function(){d.splice(p,1),m(0===d.length?null:p-1),k()};this.inputs={audio:{type:"audio",node:o}},this.outputs={audio:{type:"audio",node:c}};var x=t.createElement("div");x.innerHTML=a,this.panelView=x.childNodes[0];var L=this.panelView.querySelector(".response-select"),k=function(){L.innerHTML="";for(var e=0;e<d.length;e++){var n=d[e],r=t.createElement("option");r.textContent=n.name,r.value=e,n.responseBuffer||(r.disabled=!0),L.appendChild(r)}L.value=p};L.addEventListener("input",function(){m(+L.value)});var E=this.panelView.querySelector(".dry-wet");E.addEventListener("input",function(){g(+E.value)});var M=this.panelView.querySelector(".active-response-name"),I=this.panelView.querySelector(".active-response-duration"),N=this.panelView.querySelector(".active-response-delete"),T=function(){null===p?(M.textContent="",I.textContent="",N.style.visibility="hidden"):(M.textContent=d[p].name,I.textContent=d[p].responseBuffer.duration.toFixed(3)+"s",N.style.visibility="visible")};N.addEventListener("click",function(){w()});var D=this.panelView,S=function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=e.types[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;if("Files"===o)return!0}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},A=function(e){if(S(e)){var t=e.files,n=t[0];if(n.type.startsWith("audio/"))return n}return null};D.addEventListener("dragover",function(e){S(e.dataTransfer)&&(e.dataTransfer.dropEffect="copy",e.preventDefault(),e.stopPropagation())},!1),D.addEventListener("drop",function(e){var t=A(e.dataTransfer);t&&!function(){e.preventDefault(),e.stopPropagation();var n=new FileReader;n.onload=function(){b(t.name,n.result,!0)},n.readAsArrayBuffer(t)}()},!1),i||(i={responses:[],activeResponseIdx:null,bypass:!1,wetness:.5});for(var C=0;C<i.responses.length;C++)b(i.responses[C].name,i.responses[C].responseFileData,C===i.activeResponseIdx);k(),null===p&&m(null),g(i.wetness),y(i.bypass),this.save=function(){return{responses:d.map(function(e){return{name:e.name,responseFileData:e.responseFileData}}),activeResponseIdx:p,bypass:f,wetness:h}}};t.default=i,i.blockName="Convolux",i.helpText='Convolux is an audio convolver, typically used for applying reverb.\n\nA special audio sample called an "impulse response" is used to capture the sound of a space. An impulse response sounds like a single loud click or clap recorded in a reverberating space. Using that impulse response, the same reverberation can be applied to any audio you want using a process called "convolution".\n\nTo load an impulse repsonse into Convolux, drag and drop the audio file onto the Convolux panel. Multiple responses can be added, and switched betweeb using the dropdown menu. The Dry↔Wet slider sets the mix between between the original "dry" input sound and the "wet" convolved sound in the output.\n\nMany impulse responses can be found for free on the internet. Also, percussive samples such as cymbals, snares, and claps can be used as impulse responses to get unusual reverb-type sounds.'},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(25),i=n(43),o=function e(t,n,o){r(this,e);var s=n.createBuffer(1,2,n.sampleRate),l=s.getChannelData(0);l[0]=1,l[1]=1;var u=n.createBufferSource();u.buffer=s,u.loop=!0,u.start();var c=n.createGain();c.gain.value=0,u.connect(c);var d=new i(n,c.gain);d.attackShape=d.LINEAR,o||(o={m:"AD",rt:.01,ft:.1,fs:i.EXPONENTIAL}),d.mode=o.m,d.attackRate=1/o.rt,d.decayShape=o.fs,d.decayRate=1/o.ft,d.releaseShape=o.fs,d.releaseRate=1/o.ft;var p=function(e,t){d.gate(t,e)};this.inputs={gate:{type:"gateEvent",notify:p}},this.outputs={audio:{type:"audio",node:c}};var h=t.createElement("div");h.innerHTML=a,this.panelView=h.childNodes[0];var f=this.panelView.querySelector(".mode-select");f.value=d.mode,f.addEventListener("input",function(){d.mode=f.value});var v=.001,g=30,y=Math.log(v),m=Math.log(g),b=function(e){return(Math.log(e)-y)/(m-y)},w=function(e){return Math.exp(y+e*(m-y))},x=this.panelView.querySelector(".rise-time-input");x.value=b(1/d.attackRate),x.addEventListener("input",function(){d.attackRate=1/w(x.value)});var L=this.panelView.querySelector(".fall-time-input");L.value=b(1/d.decayRate),L.addEventListener("input",function(){d.decayRate=1/w(L.value),d.releaseRate=1/w(L.value)});var k=this.panelView.querySelector(".fall-shape-select");k.value=d.decayShape,k.addEventListener("input",function(){d.decayShape=k.value,d.releaseShape=k.value}),this.save=function(){return{m:d.mode,rt:1/d.attackRate,ft:1/d.decayRate,fs:1/d.decayShape}}};t.default=o,o.blockName="Egen",o.helpText='Egen is a multi-mode envelope generator.\n\nEgen has a single gate-type input and a single audio-type output. Generally speaking, as the input gate signal turns on and off, the output value makes gradual transitions back and forth between 0 and 1.\n\nEgen has two modes: attack-decay (/\\ shape) and attack-sustain-release (/‾\\ shape).\n\nIn attack-decay mode, as soon as the output value reaches 1 (end of attack phase), it immediately starts transitioning back to 0 (decay phase). Even if the gate goes off during the attack phase, the attack phase will continue uninterrupted. This means that it only matters when the input gate goes on, not when it goes off. Attack-decay mode is sometimes referred to as "trigger" mode, and is useful for generating percussive sounds that always have the same envelope shape regardless of how long the gate is held high.\n\nIn attack-sustain-release mode, the output value starts moving towards 1 when the gate goes on (attack phase). If it reaches 1 while the gate is still on, it stays at 1 (sustain phase). When the gate goes off, the output value starts moving towards 0 (release phase). If the gate goes off during attack phase, the envelope will immediately enter release phase and decay towards 0.\n\nFor all envelope types, if the gate goes high during the falling phase (decay or release), a new attack will begin from the current output value. In other words, the envelope will restart WITHOUT dropping to 0 and the output will not have any sudden jumps.\n\nThe Rise control sets the speed of the attack phase, i.e. how quickly the envelope transitions towards 1. The attack shape is always linear.\n\nThe Fall control sets the speed of the decay and release phases, i.e. how quickly the envelope transitions towards 0. The Fall Shape control can be set to LIN (fall linearly to 0) or EXP (decay exponentially to 0). Exponential decay tends to sound more like natural sounds.\n\nTip: Very fast envelopes that rise and fall in less than the time of a single audio wave cycle can be used to make "click" sounds.'},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(26),i=function e(t,n,i){r(this,e);var o=n.createGain();this.inputs={audio:{type:"audio",node:o},gain:{type:"audio",node:o.gain}},this.outputs={audio:{type:"audio",node:o}};var s=t.createElement("div");s.innerHTML=a,this.panelView=s.childNodes[0];var l=void 0,u=this.panelView.querySelector(".base-gain-input");u.addEventListener("input",function(){var e=parseFloat(u.value);Number.isNaN(e)||(l=e,o.gain.value=l)}),l=i?i.g:0,o.gain.value=l,u.value=l,this.save=function(){return{g:l}}};t.default=i,i.blockName="Gainer",i.helpText='Gainer is what\'s typically called a VCA (voltage controlled amplifier). It allows one audio-type signal to adjust the amplitude of another.\n\nGainer has two audio inputs, and one audio output. The output value at any instant is simply the two input values multiplied together. One input is named "audio" and one is named "gain" because typically one input is fed a listenable audio signal, while the other "gain" input is fed the output of an slower-varying envelope generator or LFO. If both inputs are connected to audio-rate signals, Gainer will act as a ring modulator.\n\nGainer has one panel control: Base Gain. This value is summed with the signal (if any) connected to the "gain" input. If nothing is connected to the "gain" input, then Base Gain lets you manually set the gain applied to the "audio" input. Keep in mind that gain can be negative, so this lets you invert signals as well.'},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n,a){var i=this;r(this,e);var o=0,s=4,l=void 0,u=n.createGain();u.gain.value=1;var c=n.createWaveShaper();c.oversample="none",u.connect(c);var d=function(e){for(var t=2*(e+1),n=new Float32Array(t),r=0;r<t;r++)n[r]=(e+r)%2?1:-1;c.curve=n,l=1/(t-1),i.stages=e};d(a?a.st:s),this.inputs={audio:{type:"audio",node:u}},this.outputs={audio:{type:"audio",node:c}};var p=t.createElement("div");p.innerHTML='<div style="box-sizing: border-box; width: 126px; height: 256px; padding: 5px; background-color: white;"><div>Orinami</div><div><label>Stages <input type="number" value="'+this.stages+'" min="'+o+'" step="1" style="width: 50px" /></label></div></div>',this.panelView=p.childNodes[0],this.panelView.querySelector("input").addEventListener("input",function(e){var t=parseInt(e.target.value,10);if(!isNaN(t)){var n=Math.floor(t);n>=o&&d(n)}},!1)}return a(e,[{key:"save",value:function(){return{st:this.stages}}}]),e}();t.default=i,i.blockName="Orinami",i.helpText='Orinami (折り波) is a wavefolder. It stretches and folds input waveforms in the amplitude dimension, introducing extremely non-linear distortion.\n\nOrinami first increases the amplitude of its input audio, and then any parts of the resulting waveform that exceed certain limits (the range -1 to 1) are "folded" back over those limits. In other words, when the waveform hits the limit, its direction is reversed to keep it within the range -1 to 1. A waveform visualizer (such as Scope) is useful to understand what\'s going on.\n\nIf an input waveform has a low amplitude, it may not hit the thresholds for folding, and just have its amplitude increased.\n\nOrinami has a control to set the number of "stages". Increasing numbers of stages cause more stretching and folding, and hence more distortion.'},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(28),i=function e(t,n,i){r(this,e),this.inputs={},this.outputs={};var o=t.createElement("div");o.innerHTML=a,this.panelView=o.childNodes[0];var s=this.panelView.querySelector("textarea");s.addEventListener("dblclick",function(e){s.readOnly=!s.readOnly,e.preventDefault()},!0),i&&(s.value=i.t,s.readOnly=!0),this.save=function(){return{t:s.value}}};t.default=i,i.blockName="Remark",i.helpText="Remark is a special block that doesn't process audio but merely provides a place to write notes about a patch.\n\nDouble click anywhere in the text area to allow/disallow editing the text."},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){for(var t=0;t<e.length;t++)e[t]=2*Math.random()-1}function i(e){var t=void 0,n=void 0,r=void 0,a=void 0,i=void 0,o=void 0,s=void 0;t=n=r=a=i=o=s=0;for(var l=0;l<e.length;l++){var u=2*Math.random()-1;t=.99886*t+.0555179*u,n=.99332*n+.0750759*u,r=.969*r+.153852*u,a=.8665*a+.3104856*u,i=.55*i+.5329522*u,o=-.7616*o-.016898*u,e[l]=t+n+r+a+i+o+s+.5362*u,e[l]*=.11,s=.115926*u}}function o(e){for(var t=0,n=0;n<e.length;n++){var r=2*Math.random()-1;e[n]=(t+.02*r)/1.02,t=e[n],e[n]*=3.5}}function s(e,t){for(var n=0;n<e.length;n++)e[n]*=Math.exp(t*n/e.length)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(29),u=function e(t,n,u){r(this,e);var c=n.createGain();c.gain.value=1;var d=n.createConvolver();d.normalize=!0;var p=n.createGain(),h=n.createGain(),f=n.createGain();f.gain.value=1,c.connect(d),c.connect(p),d.connect(h),p.connect(f),h.connect(f);var v=function(){p.gain.value=Math.sqrt(1-M),h.gain.value=Math.sqrt(M)},g=function(){for(var e=Math.floor(E*n.sampleRate),t=-Math.log(1e3),r="stereo"===N?2:1,l=n.createBuffer(r,e,n.sampleRate),u=0;u<r;u++){var c=l.getChannelData(u);switch(I){case"white":a(c);break;case"pink":i(c);break;case"brown":o(c);break;default:throw new Error("bad color")}s(c,t)}d.buffer=l};this.inputs={audio:{type:"audio",node:c}},this.outputs={audio:{type:"audio",node:f}};var y=t.createElement("div");y.innerHTML=l,this.panelView=y.childNodes[0];var m=(this.panelView.querySelector("textarea"),this.panelView.querySelector(".noise-color-select"));m.addEventListener("input",function(){I=m.value,
g()});var b=function(){x.textContent=E.toFixed(2)+"s"},w=this.panelView.querySelector(".decay-time-input"),x=this.panelView.querySelector(".decay-time-display");w.addEventListener("input",function(){E=+w.value,b(),g()});var L=this.panelView.querySelector(".dry-wet");L.addEventListener("input",function(){M=+L.value,v()});var k=this.panelView.querySelector(".width-select");k.addEventListener("input",function(){N=k.value,g()});var E=void 0,M=void 0,I=void 0,N=void 0;u?(E=u.d,M=u.w,I=u.c,N=u.s):(E=3,M=.5,I="pink",N="stereo"),w.value=E,L.value=M,m.value=I,k.value=N,b(),g(),v(),this.save=function(){return{d:E,w:M,c:I,s:N}}};t.default=u,u.blockName="Verbatim",u.helpText='Verbatim is a convolution reverb that uses computed impulse responses.\n\nThe impulse responses that Verbatim generates are simple noise with an exponential amplitude decay. This gives the reverb a very smooth but neutral character.\n\nThe Color panel control lets you choose the type of noise. White is brighest sounding, brown is the darkest sounding, and pink is in the middle. The Decay panel controls sets how long it takes for reverberations to decay. The Dry↔Wet slider sets the mix between between the original "dry" input sound and the "wet" reverberation sound in the output. The Width control chooses whether the output is mono or stereo. In stereo mode, the reverberations sound "wide" and encompassing, whereas in mono it sounds "narrow" as though it\'s originating from a single point.\n\nNote that changes to the decay time control will cause glitches in the output sound. This is an inevitable consequence of the way the convolution works.\n\nBackground icon CC BY 3.0 by Rahul, GB https://thenounproject.com/term/wave/76639/'},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(30),i=function e(t,n,i){r(this,e);var o="sine",s=440,l=100,u=n.createOscillator();u.type=o,u.frequency.value=s,u.start();var c=n.createGain();c.gain.value=l,c.connect(u.frequency),i&&(u.type=i.w,u.frequency.value=i.f,c.gain.value=i.fm),this.inputs={fm:{type:"audio",node:c}},this.outputs={audio:{type:"audio",node:u}};var d=t.createElement("div");d.innerHTML=a,this.panelView=d.childNodes[0];var p=this.panelView.querySelector(".waveform-select");p.value=u.type,p.addEventListener("input",function(){u.type=p.value});var h=this.panelView.querySelector(".frequency-input");h.value=u.frequency.value,h.addEventListener("input",function(){var e=parseFloat(h.value);e>0&&(u.frequency.value=e)});var f=this.panelView.querySelector(".fm-scale-input");f.value=c.gain.value,f.addEventListener("input",function(){var e=parseFloat(f.value);c.gain.value=e}),this.save=function(){return{w:u.type,f:u.frequency.value,fm:c.gain.value}}};t.default=i,i.blockName="Waverly",i.helpText="Waverly is a oscillator with switchable waveform and linear FM input.\n\nThe available waveforms are sine (SIN), triangle, (TRI), square (SQR), sawtooth (SAW).\n\nThe fm input is scaled by the FM Scale panel setting and then added to the oscillator frequency in hertz. So for example, if an audio signal in the range [-1,1] is connected to the fm input, and the FM Scale is set to 100, the oscillator frequency will be modulated between 100hz up and 100hz down."},function(e,t){e.exports='<div style=box-sizing:border-box;width:190px;height:256px;font-size:14px;background-color:#dae6d9> <div style=padding:10px;background-color:#a9d6a7> <label>Responses<br><span style=font-size:.75em;color:#555>(drag &amp; drop audio file to add)</span><br><select class=response-select style=max-width:170px> </select></label> <div style=margin-top:10px><label>Dry&harr;Wet<br><input class=dry-wet type=range step=any min=0 max=1 style="width:170px;margin:5px 0"></label></div> </div> <div style=padding:10px> <div><label>Name<br><span class=active-response-name style=word-wrap:break-word></span></label></div> <div style=margin-top:10px><label>Duration<br><span class=active-response-duration></span></label></div> <div style=margin-top:10px><button class=active-response-delete>Delete</button></div> </div> </div> '},function(e,t){e.exports='<div style=box-sizing:border-box;width:126px;height:256px;padding:10px;background-color:#ddd> <div style=font-size:14px> <label>Mode<br><select class=mode-select> <option value=AD>/\\</option> <option value=ASR>/‾\\</option> </select></label> <div style=margin-top:10px><label>Rise<br><input class=rise-time-input type=range step=any min=0 max=1 style="width:106px;margin:5px 0"></label></div> <div style=margin-top:10px><label>Fall<br><input class=fall-time-input type=range step=any min=0 max=1 style="width:106px;margin:5px 0"></label></div> <div style=margin-top:10px><label>Fall Shape<br><select class=fall-shape-select> <option value=L>LIN</option> <option value=E>EXP</option> </select></label></div> </div> </div> '},function(e,t){e.exports="<div style=box-sizing:border-box;width:62px;height:256px;padding:10px;background-color:#888> <div style=margin-top:10px><label>Base Gain<br><input class=base-gain-input type=number step=any style=width:100%;text-align:right></label></div> </div> "},function(e,t){e.exports='<div style=height:100%;display:flex;background-color:#0a0a0a> <div style="width:114px;padding:5px 10px;background-color:#333;overflow:scroll"> <div style="margin:10px 0"><button class=toggle-front-back-button title="Flip Front/Back [space]" style="color:#9aada2;padding:5px;border:1px solid currentColor;border-radius:10px;background-color:transparent;cursor:pointer;margin:0 5px 0 0"><svg style=width:40px;height:40px;fill:currentColor xmlns=http://www.w3.org/2000/svg viewBox="0 0 100 100" x=0px y=0px><polygon points="61.07 52.86 37.44 69.46 61.07 86.05 61.07 72.96 81.07 72.96 81.07 65.96 61.07 65.96 61.07 52.86"/><polygon points="37.87 32.6 17.86 32.6 17.86 39.6 37.87 39.6 37.87 52.7 61.49 36.1 37.87 19.5 37.87 32.6"/></svg></button><button class=delete-wires-button title="Delete Wires [d]" style="color:#9aada2;padding:5px;border:1px solid currentColor;border-radius:10px;background-color:transparent;cursor:pointer"><svg style=width:40px;height:40px;fill:currentColor xmlns=http://www.w3.org/2000/svg viewBox="0 0 100 100" x=0px y=0px><path d=M90.05,31.37l-3.11-6.27-25,12.39L73.12,12.83l-6.37-2.9L52,42.4l-12.3,6.09A14.56,14.56,0,1,0,31,60.58l.15-.07h0l16.24-8L39.6,69.64h0l-.08.17a14.54,14.54,0,1,0,11.83-9.12l6-13.13ZM32.21,50a7.47,7.47,0,0,1-3.3,3.8l-.74.36a7.53,7.53,0,1,1,4-4.17Zm23.6,18.09A7.53,7.53,0,1,1,46,72.42l.37-.81A7.54,7.54,0,0,1,55.81,68.11Z /></svg></button></div> <div class=block-palette style="font-family:HelveticaNeue-Light,\'Helvetica Neue Light\',\'Helvetica Neue\',sans-serif"></div> </div> <div class=block-help-panel style="flex:.2 0 150px;overflow:scroll;color:#ccc;background:#222;display:none"> <button class=block-help-panel-close-button style="float:right;background:0 0;padding:0;border:none;color:inherit;cursor:pointer"><svg style=width:32px;height:32px;fill:currentColor xmlns=http://www.w3.org/2000/svg fill=#000000 viewBox="10 10 80 80" x=0px y=0px><polygon points="67.04 26.5 49.54 44 32.03 26.5 27.09 31.45 44.59 48.95 27.09 66.45 32.03 71.4 49.54 53.9 67.04 71.4 71.99 66.45 54.49 48.95 71.99 31.45 67.04 26.5"/></svg></button> <div style="padding:0 10px;font-size:14px"> <h2 style="margin:.5em 0"><span class=block-help-title></span></h2> <div class=block-help-body></div> </div> </div> <div class=block-container style=flex:1;flex-wrap:wrap;display:flex;align-content:flex-start;padding:1px;overflow:scroll></div> <div style="flex:0 0 400px;background-color:#444;padding:10px;display:none"> <div style=color:#bbb;font-size:16px;margin-bottom:10px>Patch Management</div> <div><select class=patch-output-select></select> &rarr; <select class=patch-input-select></select> <button class=patch-connect-button>Connect</button></div> <ul class=patch-connection-list style=list-style-type:none;padding:0></ul> </div> </div> '},function(e,t){e.exports='<div style=box-sizing:border-box;width:318px;height:256px;padding:0> <textarea style="width:100%;height:100%;background:#000;color:#aaa;font-size:14px;border:1px solid #222;resize:none;padding:2px;font-family:inherit" spellcheck=false></textarea> </div> '},function(e,t){e.exports='<div style=box-sizing:border-box;width:126px;height:256px;padding:10px;font-size:14px;color:#bbb;background-color:#1a0202;background-position:center;background-repeat:no-repeat;background-image:url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjMDAwMDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyIgdmlld0JveD0iMCAwIDg2IDg2IiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4Ij48dGl0bGU+d2F2ZXM8L3RpdGxlPjxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPjxnIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPjxwYXRoIGQ9Ik04NS41LDQzIEM4NS41LDE5LjUyNzg5ODEgNjYuNDcyMTAxOSwwLjUgNDMsMC41IEMxOS41Mjc4OTgxLDAuNSAwLjUsMTkuNTI3ODk4MSAwLjUsNDMgQzAuNSw2Ni40NzIxMDE5IDE5LjUyNzg5ODEsODUuNSA0Myw4NS41IEM2Ni40NzIxMDE5LDg1LjUgODUuNSw2Ni40NzIxMDE5IDg1LjUsNDMgWiBNNS41LDQzIEM1LjUsMjIuMjg5MzIxOSAyMi4yODkzMjE5LDUuNSA0Myw1LjUgQzYzLjcxMDY3ODEsNS41IDgwLjUsMjIuMjg5MzIxOSA4MC41LDQzIEM4MC41LDYzLjcxMDY3ODEgNjMuNzEwNjc4MSw4MC41IDQzLDgwLjUgQzIyLjI4OTMyMTksODAuNSA1LjUsNjMuNzEwNjc4MSA1LjUsNDMgWiIgZmlsbD0iIzAwMDAwMCIgc2tldGNoOnR5cGU9Ik1TU2hhcGVHcm91cCIvPjxwYXRoIGQ9Ik03NC41LDMyIEM3NC41LDE0LjYwMzAzMDQgNjAuMzk2OTY5NiwwLjUgNDMsMC41IEMyNS42MDMwMzA0LDAuNSAxMS41LDE0LjYwMzAzMDQgMTEuNSwzMiBDMTEuNSw0OS4zOTY5Njk2IDI1LjYwMzAzMDQsNjMuNSA0Myw2My41IEM2MC4zOTY5Njk2LDYzLjUgNzQuNSw0OS4zOTY5Njk2IDc0LjUsMzIgWiBNMTYuNSwzMiBDMTYuNSwxNy4zNjQ0NTQxIDI4LjM2NDQ1NDEsNS41IDQzLDUuNSBDNTcuNjM1NTQ1OSw1LjUgNjkuNSwxNy4zNjQ0NTQxIDY5LjUsMzIgQzY5LjUsNDYuNjM1NTQ1OSA1Ny42MzU1NDU5LDU4LjUgNDMsNTguNSBDMjguMzY0NDU0MSw1OC41IDE2LjUsNDYuNjM1NTQ1OSAxNi41LDMyIFoiIGZpbGw9IiMwMDAwMDAiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiLz48cGF0aCBkPSJNNjMuNSwyMSBDNjMuNSw5LjY3ODE2MjYzIDU0LjMyMTgzNzQsMC41IDQzLDAuNSBDMzEuNjc4MTYyNiwwLjUgMjIuNSw5LjY3ODE2MjYzIDIyLjUsMjEgQzIyLjUsMzIuMzIxODM3NCAzMS42NzgxNjI2LDQxLjUgNDMsNDEuNSBDNTQuMzIxODM3NCw0MS41IDYzLjUsMzIuMzIxODM3NCA2My41LDIxIFogTTI3LjUsMjEgQzI3LjUsMTIuNDM5NTg2NCAzNC40Mzk1ODY0LDUuNSA0Myw1LjUgQzUxLjU2MDQxMzYsNS41IDU4LjUsMTIuNDM5NTg2NCA1OC41LDIxIEM1OC41LDI5LjU2MDQxMzYgNTEuNTYwNDEzNiwzNi41IDQzLDM2LjUgQzM0LjQzOTU4NjQsMzYuNSAyNy41LDI5LjU2MDQxMzYgMjcuNSwyMSBaIiBmaWxsPSIjMDAwMDAwIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIi8+PHBhdGggZD0iTTU2LDEzLjUgQzU2LDYuMzIwMjk4MjUgNTAuMTc5NzAxNywwLjUgNDMsMC41IEMzNS44MjAyOTgzLDAuNSAzMCw2LjMyMDI5ODI1IDMwLDEzLjUgQzMwLDIwLjY3OTcwMTcgMzUuODIwMjk4MywyNi41IDQzLDI2LjUgQzUwLjE3OTcwMTcsMjYuNSA1NiwyMC42Nzk3MDE3IDU2LDEzLjUgWiBNMzUsMTMuNSBDMzUsOS4wODE3MjIgMzguNTgxNzIyLDUuNSA0Myw1LjUgQzQ3LjQxODI3OCw1LjUgNTEsOS4wODE3MjIgNTEsMTMuNSBDNTEsMTcuOTE4Mjc4IDQ3LjQxODI3OCwyMS41IDQzLDIxLjUgQzM4LjU4MTcyMiwyMS41IDM1LDE3LjkxODI3OCAzNSwxMy41IFoiIGZpbGw9IiMwMDAwMDAiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiLz48L2c+PC9zdmc+)> <div><label>Color<br><select class=noise-color-select> <option value=white>White</option> <option value=pink>Pink</option> <option value=brown>Brown</option> </select></label></div> <div style=margin-top:10px><span class=decay-time-display style=float:right></span><label>Decay<br><input class=decay-time-input type=range step=any min=0.1 max=10 style="width:106px;margin:5px 0"></label></div> <div style=margin-top:10px><label>Dry&harr;Wet<br><input class=dry-wet type=range step=any min=0 max=1 style="width:106px;margin:5px 0"></label></div> <div style=margin-top:10px><label>Width<br><select class=width-select> <option value=mono>Mono</option> <option value=stereo>Stereo</option> </select></label></div> </div> '},function(e,t){e.exports="<div style=box-sizing:border-box;width:126px;height:256px;padding:10px;background-color:#dfe3eb> <div style=text-align:center;font-family:monospace;color:#415274>\\/\\/averly</div> <div style=font-size:14px;margin-top:20px> <label>Form<br><select class=waveform-select> <option value=sine>SIN</option> <option value=triangle>TRI</option> <option value=square>SQR</option> <option value=sawtooth>SAW</option> </select></label> <div style=margin-top:10px><label>Frequency<br><input class=frequency-input type=number step=any min=0 style=width:5em;text-align:right>hz</label></div> <div style=margin-top:10px><label>FM Scale<br><input class=fm-scale-input type=number step=any style=width:5em;text-align:right></label></div> </div> </div> "},function(e,t,n){(function(t){!function(){function n(e){"use strict";for(var t={fill:0},i=function(e){for(e+=9;e%64>0;e+=1);return e},o=function(e,t){var n=new Uint8Array(e.buffer),r=t%4,a=t-r;switch(r){case 0:n[a+3]=0;case 1:n[a+2]=0;case 2:n[a+1]=0;case 3:n[a+0]=0}for(var i=(t>>2)+1;i<e.length;i++)e[i]=0},s=function(e,t,n){e[t>>2]|=128<<24-(t%4<<3),e[((t>>2)+2&-16)+14]=n/(1<<29)|0,e[((t>>2)+2&-16)+15]=n<<3},l=function(e,t,n,r,a){var i,o=this,s=a%4,l=(r+s)%4,u=r-l;switch(s){case 0:e[a]=o.charCodeAt(n+3);case 1:e[a+1-(s<<1)|0]=o.charCodeAt(n+2);case 2:e[a+2-(s<<1)|0]=o.charCodeAt(n+1);case 3:e[a+3-(s<<1)|0]=o.charCodeAt(n)}if(!(r<l+s)){for(i=4-s;i<u;i=i+4|0)t[a+i>>2]=o.charCodeAt(n+i)<<24|o.charCodeAt(n+i+1)<<16|o.charCodeAt(n+i+2)<<8|o.charCodeAt(n+i+3);switch(l){case 3:e[a+u+1|0]=o.charCodeAt(n+u+2);case 2:e[a+u+2|0]=o.charCodeAt(n+u+1);case 1:e[a+u+3|0]=o.charCodeAt(n+u)}}},u=function(e,t,n,r,a){var i,o=this,s=a%4,l=(r+s)%4,u=r-l;switch(s){case 0:e[a]=o[n+3];case 1:e[a+1-(s<<1)|0]=o[n+2];case 2:e[a+2-(s<<1)|0]=o[n+1];case 3:e[a+3-(s<<1)|0]=o[n]}if(!(r<l+s)){for(i=4-s;i<u;i=i+4|0)t[a+i>>2|0]=o[n+i]<<24|o[n+i+1]<<16|o[n+i+2]<<8|o[n+i+3];switch(l){case 3:e[a+u+1|0]=o[n+u+2];case 2:e[a+u+2|0]=o[n+u+1];case 1:e[a+u+3|0]=o[n+u]}}},c=function(e,t,n,r,i){var o,s=this,l=i%4,u=(r+l)%4,c=r-u,d=new Uint8Array(a.readAsArrayBuffer(s.slice(n,n+r)));switch(l){case 0:e[i]=d[3];case 1:e[i+1-(l<<1)|0]=d[2];case 2:e[i+2-(l<<1)|0]=d[1];case 3:e[i+3-(l<<1)|0]=d[0]}if(!(r<u+l)){for(o=4-l;o<c;o=o+4|0)t[i+o>>2|0]=d[o]<<24|d[o+1]<<16|d[o+2]<<8|d[o+3];switch(u){case 3:e[i+c+1|0]=d[c+2];case 2:e[i+c+2|0]=d[c+1];case 1:e[i+c+3|0]=d[c]}}},d=function(e){switch(r.getDataType(e)){case"string":return l.bind(e);case"array":return u.bind(e);case"buffer":return u.bind(e);case"arraybuffer":return u.bind(new Uint8Array(e));case"view":return u.bind(new Uint8Array(e.buffer,e.byteOffset,e.byteLength));case"blob":return c.bind(e)}},p=new Array(256),h=0;h<256;h++)p[h]=(h<16?"0":"")+h.toString(16);var f=function(e){for(var t=new Uint8Array(e),n=new Array(e.byteLength),r=0;r<n.length;r++)n[r]=p[t[r]];return n.join("")},v=function(e){var t;if(e<=65536)return 65536;if(e<16777216)for(t=1;t<e;t<<=1);else for(t=16777216;t<e;t+=16777216);return t},g=function(e){if(e%64>0)throw new Error("Chunk size must be a multiple of 128 bit");t.offset=0,t.maxChunkLen=e,t.padMaxChunkLen=i(e),t.heap=new ArrayBuffer(v(t.padMaxChunkLen+320+20)),t.h32=new Int32Array(t.heap),t.h8=new Int8Array(t.heap),t.core=new n._core({Int32Array:Int32Array,DataView:DataView},{},t.heap),t.buffer=null};g(e||65536);var y=function(e,n){t.offset=0;var r=new Int32Array(e,n+320,5);r[0]=1732584193,r[1]=-271733879,r[2]=-1732584194,r[3]=271733878,r[4]=-1009589776},m=function(e,n){var r=i(e),a=new Int32Array(t.heap,0,r>>2);return o(a,e),s(a,e,n),r},b=function(e,n,r,a){d(e)(t.h8,t.h32,n,r,a||0)},w=function(e,n,r,a,i){var o=r;b(e,n,r),i&&(o=m(r,a)),t.core.hash(o,t.padMaxChunkLen)},x=function(e,t){var n=new Int32Array(e,t+320,5),r=new Int32Array(5),a=new DataView(r.buffer);return a.setInt32(0,n[0],!1),a.setInt32(4,n[1],!1),a.setInt32(8,n[2],!1),a.setInt32(12,n[3],!1),a.setInt32(16,n[4],!1),r},L=this.rawDigest=function(e){var n=e.byteLength||e.length||e.size||0;y(t.heap,t.padMaxChunkLen);var r=0,a=t.maxChunkLen;for(r=0;n>r+a;r+=a)w(e,r,a,n,!1);return w(e,r,n-r,n,!0),x(t.heap,t.padMaxChunkLen)};this.digest=this.digestFromString=this.digestFromBuffer=this.digestFromArrayBuffer=function(e){return f(L(e).buffer)},this.resetState=function(){return y(t.heap,t.padMaxChunkLen),this},this.append=function(e){var n,r=0,a=e.byteLength||e.length||e.size||0,i=t.offset%t.maxChunkLen;for(t.offset+=a;r<a;)n=Math.min(a-r,t.maxChunkLen-i),b(e,r,n,i),i+=n,r+=n,i===t.maxChunkLen&&(t.core.hash(t.maxChunkLen,t.padMaxChunkLen),i=0);return this},this.getState=function(){var e,n=t.offset%t.maxChunkLen;if(n)e=t.heap.slice(0);else{var r=new Int32Array(t.heap,t.padMaxChunkLen+320,5);e=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}return{offset:t.offset,heap:e}},this.setState=function(e){if(t.offset=e.offset,20===e.heap.byteLength){var n=new Int32Array(t.heap,t.padMaxChunkLen+320,5);n.set(new Int32Array(e.heap))}else t.h32.set(new Int32Array(e.heap));return this};var k=this.rawEnd=function(){var e=t.offset,n=e%t.maxChunkLen,r=m(n,e);t.core.hash(r,t.padMaxChunkLen);var a=x(t.heap,t.padMaxChunkLen);return y(t.heap,t.padMaxChunkLen),a};this.end=function(){return f(k().buffer)}}var r={getDataType:function(e){if("string"==typeof e)return"string";if(e instanceof Array)return"array";if("undefined"!=typeof t&&t.Buffer&&t.Buffer.isBuffer(e))return"buffer";if(e instanceof ArrayBuffer)return"arraybuffer";if(e.buffer instanceof ArrayBuffer)return"view";if(e instanceof Blob)return"blob";throw new Error("Unsupported data type.")}};if(n._core=function e(t,n,r){"use asm";var a=new t.Int32Array(r);function i(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,h=0,f=0,v=0,g=0;i=a[t+320>>2]|0;s=a[t+324>>2]|0;u=a[t+328>>2]|0;d=a[t+332>>2]|0;h=a[t+336>>2]|0;for(n=0;(n|0)<(e|0);n=n+64|0){o=i;l=s;c=u;p=d;f=h;for(r=0;(r|0)<64;r=r+4|0){g=a[n+r>>2]|0;v=((i<<5|i>>>27)+(s&u|~s&d)|0)+((g+h|0)+1518500249|0)|0;h=d;d=u;u=s<<30|s>>>2;s=i;i=v;a[e+r>>2]=g}for(r=e+64|0;(r|0)<(e+80|0);r=r+4|0){g=(a[r-12>>2]^a[r-32>>2]^a[r-56>>2]^a[r-64>>2])<<1|(a[r-12>>2]^a[r-32>>2]^a[r-56>>2]^a[r-64>>2])>>>31;v=((i<<5|i>>>27)+(s&u|~s&d)|0)+((g+h|0)+1518500249|0)|0;h=d;d=u;u=s<<30|s>>>2;s=i;i=v;a[r>>2]=g}for(r=e+80|0;(r|0)<(e+160|0);r=r+4|0){g=(a[r-12>>2]^a[r-32>>2]^a[r-56>>2]^a[r-64>>2])<<1|(a[r-12>>2]^a[r-32>>2]^a[r-56>>2]^a[r-64>>2])>>>31;v=((i<<5|i>>>27)+(s^u^d)|0)+((g+h|0)+1859775393|0)|0;h=d;d=u;u=s<<30|s>>>2;s=i;i=v;a[r>>2]=g}for(r=e+160|0;(r|0)<(e+240|0);r=r+4|0){g=(a[r-12>>2]^a[r-32>>2]^a[r-56>>2]^a[r-64>>2])<<1|(a[r-12>>2]^a[r-32>>2]^a[r-56>>2]^a[r-64>>2])>>>31;v=((i<<5|i>>>27)+(s&u|s&d|u&d)|0)+((g+h|0)-1894007588|0)|0;h=d;d=u;u=s<<30|s>>>2;s=i;i=v;a[r>>2]=g}for(r=e+240|0;(r|0)<(e+320|0);r=r+4|0){g=(a[r-12>>2]^a[r-32>>2]^a[r-56>>2]^a[r-64>>2])<<1|(a[r-12>>2]^a[r-32>>2]^a[r-56>>2]^a[r-64>>2])>>>31;v=((i<<5|i>>>27)+(s^u^d)|0)+((g+h|0)-899497514|0)|0;h=d;d=u;u=s<<30|s>>>2;s=i;i=v;a[r>>2]=g}i=i+o|0;s=s+l|0;u=u+c|0;d=d+p|0;h=h+f|0}a[t+320>>2]=i;a[t+324>>2]=s;a[t+328>>2]=u;a[t+332>>2]=d;a[t+336>>2]=h}return{hash:i}},e.exports=n,"undefined"!=typeof FileReaderSync){var a=new FileReaderSync,i=new n(4194304);self.onmessage=function(e){var t,n=e.data.data;try{t=i.digest(n),self.postMessage({id:e.data.id,hash:t})}catch(t){self.postMessage({id:e.data.id,error:t.name})}}}}()}).call(t,n(39))},function(e,t){/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */
String.fromCodePoint||!function(){var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),t=String.fromCharCode,n=Math.floor,r=function(e){var r,a,i=16384,o=[],s=-1,l=arguments.length;if(!l)return"";for(var u="";++s<l;){var c=Number(arguments[s]);if(!isFinite(c)||c<0||c>1114111||n(c)!=c)throw RangeError("Invalid code point: "+c);c<=65535?o.push(c):(c-=65536,r=(c>>10)+55296,a=c%1024+56320,o.push(r,a)),(s+1==l||o.length>i)&&(u+=t.apply(null,o),o.length=0)}return u};e?e(String,"fromCodePoint",{value:r,configurable:!0,writable:!0}):String.fromCodePoint=r}()},function(e,t){/*! http://mths.be/codepointat v0.2.0 by @mathias */
String.prototype.codePointAt||!function(){"use strict";var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),t=function(e){if(null==this)throw TypeError();var t=String(this),n=t.length,r=e?Number(e):0;if(r!=r&&(r=0),!(r<0||r>=n)){var a,i=t.charCodeAt(r);return i>=55296&&i<=56319&&n>r+1&&(a=t.charCodeAt(r+1),a>=56320&&a<=57343)?1024*(i-55296)+a-56320+65536:i}};e?e(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t}()},function(e,t){e.exports="\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23000000' x='0px' y='0px' viewBox='0 0 100 100'%3E%3Cpath d='M 35 5 L 35 8 L 35 35 L 35 38 L 41 38 L 41 35 L 41 11 L 81 11 L 81 89 L 41 89 L 41 65 L 41 62 L 35 62 L 35 65 L 35 92 L 35 95 L 38 95 L 84 95 L 87 95 L 87 92 L 87 8 L 87 5 L 84 5 L 38 5 L 35 5 z M 50 29.75 L 45.75 34 L 47.875 36.09375 L 58.75 47 L 10 47 L 7 47 L 7 53 L 10 53 L 58.75 53 L 47.875 63.875 L 45.75 66 L 50 70.21875 L 52.125 68.09375 L 68.125 52.09375 L 70.25 50 L 68.125 47.875 L 52.125 31.875 L 50 29.75 z ' /%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23000000' x='0px' y='0px' viewBox='0 0 100 100'%3E%3Cpath transform='scale(-1,1) translate(-100 0)' d='M 35 5 L 35 8 L 35 35 L 35 38 L 41 38 L 41 35 L 41 11 L 81 11 L 81 89 L 41 89 L 41 65 L 41 62 L 35 62 L 35 65 L 35 92 L 35 95 L 38 95 L 84 95 L 87 95 L 87 92 L 87 8 L 87 5 L 84 5 L 38 5 L 35 5 z M 26 29.75 L 23.875 31.875 L 7.875 47.875 L 5.75 50 L 7.875 52.09375 L 23.875 68.09375 L 26 70.21875 L 30.25 66 L 28.125 63.875 L 17.25 53 L 66 53 L 69 53 L 69 47 L 66 47 L 17.25 47 L 28.125 36.09375 L 30.25 34 L 26 29.75 z '/%3E%3C/svg%3E\""},function(e,t,n){(function(e){e.require&&(n(32),n(33));var t={isNotUTF8:function(e,n,r){try{t.getStringFromBytes(e,n,r,!0)}catch(e){return!0}return!1},getCharLength:function(e){return 240==(240&e)?4:224==(224&e)?3:192==(192&e)?2:e==(127&e)?1:0},getCharCode:function(e,n,r){var a=0,i="";if(n=n||0,r=r||t.getCharLength(e[n]),0==r)throw new Error(e[n].toString(2)+" is not a significative byte (offset:"+n+").");if(1===r)return e[n];if(i="00000000".slice(0,r)+1+"00000000".slice(r+1),e[n]&parseInt(i,2))throw Error("Index "+n+": A "+r+" bytes encoded char cannot encode the "+(r+1)+"th rank bit to 1.");for(i="0000".slice(0,r+1)+"11111111".slice(r+1),a+=(e[n]&parseInt(i,2))<<6*--r;r;){if(128!==(128&e[n+1])||64===(64&e[n+1]))throw Error("Index "+(n+1)+': Next bytes of encoded char must begin with a "10" bit sequence.');a+=(63&e[++n])<<6*--r}return a},getStringFromBytes:function(e,n,r,a){var i,o=[];for(n|=0,r="number"==typeof r?r:e.byteLength||e.length;n<r;n++){if(i=t.getCharLength(e[n]),n+i>r){if(a)throw Error("Index "+n+": Found a "+i+" bytes encoded char declaration but only "+(r-n)+" bytes are available.")}else o.push(String.fromCodePoint(t.getCharCode(e,n,i,a)));n+=i-1}return o.join("")},getBytesForCharCode:function(e){if(e<128)return 1;if(e<2048)return 2;if(e<65536)return 3;if(e<2097152)return 4;throw new Error("CharCode "+e+" cannot be encoded with UTF8.")},setBytesFromCharCode:function(e,n,r,a){if(e|=0,n=n||[],r|=0,a=a||t.getBytesForCharCode(e),1==a)n[r]=e;else for(n[r++]=(parseInt("1111".slice(0,a),2)<<8-a)+(e>>>6*--a);a>0;)n[r++]=e>>>6*--a&63|128;return n},setBytesFromString:function(e,n,r,a,i){e=e||"",n=n||[],r|=0,a="number"==typeof a?a:n.byteLength||1/0;for(var o=0,s=e.length;o<s;o++){var l=t.getBytesForCharCode(e[o].codePointAt(0));if(i&&r+l>a)throw new Error('Not enought bytes to encode the char "'+e[o]+'" at the offset "'+r+'".');t.setBytesFromCharCode(e[o].codePointAt(0),n,r,l,i),r+=l}return n}};e.exports=t}).call(t,n(40)(e))},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports=4294967295},function(e,t,n){"use strict";var r=n(49),a={};r(a,"VALUE",2.2250738585072014e-308),r(a,"DENORMALIZED",5e-324),e.exports=a},function(e,t,n){"use strict";function r(e){if(!e)throw new Error("Assertion error")}function a(e,t){if(!(this instanceof a))return new a(e,t);this._audioContext=e,this._targetParam=t;var n=this;Object.defineProperty(this,"mode",{get:function(){return n._mode},set:function(t){n.MODES.indexOf(t)>=0&&(n.gate(!1,i(Math.max(this._lastGateTime,e.currentTime),1/0)),n._mode=t)}}),Object.defineProperty(this,"attackShape",{get:function(){return n._attackShape},set:function(e){n.ATTACK_SHAPES.indexOf(e)>=0&&(n._attackShape=e)}}),Object.defineProperty(this,"attackRate",{get:function(){return n._attackRate},set:function(e){"number"==typeof e&&!isNaN(e)&&e>0&&(n._attackRate=e)}}),Object.defineProperty(this,"attackLevel",{get:function(){return n._attackLevel},set:function(e){"number"!=typeof e||isNaN(e)||(n._attackLevel=e)}}),Object.defineProperty(this,"decayShape",{get:function(){return n._decayShape},set:function(e){n.DECAY_SHAPES.indexOf(e)>=0&&(n._decayShape=e)}}),Object.defineProperty(this,"decayRate",{get:function(){return n._decayRate},set:function(e){"number"==typeof e&&!isNaN(e)&&e>0&&(n._decayRate=e)}}),Object.defineProperty(this,"sustainFraction",{get:function(){return n._sustainFraction},set:function(e){"number"==typeof e&&!isNaN(e)&&e>=0&&e<=1&&(n._sustainFraction=e)}}),Object.defineProperty(this,"releaseShape",{get:function(){return n._releaseShape},set:function(e){n.RELEASE_SHAPES.indexOf(e)>=0&&(n._releaseShape=e)}}),Object.defineProperty(this,"releaseRate",{get:function(){return n._releaseRate},set:function(e){"number"==typeof e&&!isNaN(e)&&e>0&&(n._releaseRate=e)}}),this._mode="ADSR",this._attackShape=this.LINEAR,this._attackRate=2,this._attackLevel=1,this._decayShape=this.EXPONENTIAL,this._decayRate=1,this._sustainFraction=.5,this._releaseShape=this.EXPONENTIAL,this._releaseRate=1,this._targetParam.value=o,this._scheduledSegments=[],this._lastGateTime=e.currentTime,this._lastGateState=!1}var i=n(46),o=0;a.prototype.MODES=["AD","ASR","ADSR"],a.prototype.LINEAR="L",a.prototype.EXPONENTIAL="E",a.prototype.ATTACK_SHAPES=[a.prototype.LINEAR],a.prototype.DECAY_SHAPES=[a.prototype.LINEAR,a.prototype.EXPONENTIAL],a.prototype.RELEASE_SHAPES=[a.prototype.LINEAR,a.prototype.EXPONENTIAL],a.prototype._interruptScheduledSegments=function(e){var t;if(this._scheduledSegments.length){r(e>=this._scheduledSegments[0].beginTime);for(var n,a=0;a<this._scheduledSegments.length;a++){var o=this._scheduledSegments[a];if(e>=o.beginTime&&e<o.endTime){n=a;break}}if(void 0===n){var s=this._scheduledSegments[this._scheduledSegments.length-1];r(e>=s.endTime),t=s.endValue,this._targetParam.setValueAtTime(t,e)}else{var l=this._scheduledSegments[n];l.shape===this.LINEAR?(r(l.endTime!==1/0),t=l.beginValue+(e-l.beginTime)/(l.endTime-l.beginTime)*(l.endValue-l.beginValue),this._targetParam.linearRampToValueAtTime(t,e)):l.shape===this.EXPONENTIAL?(t=l.endValue+(l.beginValue-l.endValue)*Math.exp(l.rate*(l.beginTime-e)),this._targetParam.setValueAtTime(t,e)):r(!1)}}else t=0,this._targetParam.setValueAtTime(t,e);r(void 0!==t),this._targetParam.cancelScheduledValues(i(e,1/0)),this._scheduledSegments=[{beginTime:e,endTime:e,beginValue:t,endValue:t,shape:this.LINEAR}]},a.prototype._scheduleSegment=function(e,t,n){r(this._scheduledSegments.length>0);var a=this._scheduledSegments[this._scheduledSegments.length-1];if(r(a.endTime!==1/0),a.endValue!==e){var i;if(n===1/0)i=a.endTime,this._targetParam.setValueAtTime(e,i);else switch(t){case this.LINEAR:i=a.endTime+Math.abs((e-a.endValue)/n),this._targetParam.linearRampToValueAtTime(e,i);break;case this.EXPONENTIAL:i=1/0,this._targetParam.setTargetAtTime(e,a.endTime,1/n);break;default:r(!1)}this._scheduledSegments.push({shape:t,beginTime:a.endTime,endTime:i,beginValue:a.endValue,endValue:e,rate:n})}},a.prototype.gate=function(e,t){var n=this._audioContext.currentTime;if(t=void 0===t?n:t,t<this._lastGateTime)return void console.warn("Received gate with time earlier than a previous gate");if(this._lastGateTime=t,this._lastGateState=e,"AD"!==this._mode||e)if(this._interruptScheduledSegments(t),e){if(this._scheduleSegment(this._attackLevel,this._attackShape,this._attackRate),"AD"===this._mode||"ADSR"===this._mode){var r;r="AD"===this._mode?o:this._sustainFraction*this._attackLevel,this._scheduleSegment(r,this._decayShape,this._decayRate)}}else this._scheduleSegment(o,this._releaseShape,this._releaseRate)},a.prototype.gateOn=function(e){this.gate(!0,e)},a.prototype.gateOff=function(e){this.gate(!1,e)},e.exports=a},function(e,t,n){"use strict";function r(e,t){return o[s]=e,o[l]=t,i[0]}var a=n(45),i=new Float64Array(1),o=new Uint32Array(i.buffer),s=a.HIGH,l=a.LOW;e.exports=r},function(e,t,n){"use strict";var r,a,i=n(9);i===!0?(r=1,a=0):(r=0,a=1),e.exports={HIGH:r,LOW:a}},function(e,t,n){"use strict";function r(e,t){var n,r,c,d;return e!==e||t!==t?NaN:e===t?t:0===e?(e=t<0?-o:o,t=e*e,e):(n=a(e),r=n[0],c=n[1],t>e==e>0?c===s?(r+=1,c=0):c+=1:0===c?(r-=1,c=s):c-=1,d=r&l,d===l?e+e:(d<u&&(t=e*e),i(r,c)))}var a=n(47),i=n(44),o=n(42).DENORMALIZED,s=n(41),l=2146435072,u=1048576;e.exports=r},function(e,t,n){"use strict";function r(e){return i[0]=e,[o[s],o[l]]}var a=n(48),i=new Float64Array(1),o=new Uint32Array(i.buffer),s=a.HIGH,l=a.LOW;e.exports=r},function(e,t,n){"use strict";var r,a,i=n(9);i?(r=1,a=0):(r=0,a=1),e.exports={HIGH:r,LOW:a}},function(e,t,n){"use strict";function r(e,t,n){Object.defineProperty(e,t,{value:n,configurable:!1,writable:!1,enumerable:!0})}e.exports=r},function(e,t,n){"use strict";var r={uint16:Uint16Array,uint8:Uint8Array};e.exports=r},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){L&&(L.outputs.audio.node.disconnect(w.destination),L.deactivate&&L.deactivate(),document.querySelector("#root-container").innerHTML=""),x=e,L=new b[e](document,w,t),document.querySelector("#root-container").appendChild(L.windowView),L.outputs.audio.node.connect(w.destination)}function i(){var e={bm:{ro:{b:"__ro",s:{p:{audio:{t:"audio"}}},n:"Rack Outputs"},b1:{b:"remark",s:{t:"WELCOME TO PLINTH!\n\nSome tips to get you started:\n- Drag blocks from the block palette on the left into the rack area on the right.\n- Press the Flip button (or space bar) to show the back view of the rack, where you can click or drag to wire connections between block ports.\n- To remove wires, toggle Delete Wires mode and click on them.\n- Click on any block in the palette for help.\n- To hear something, connect an audio generating block (such as Waverly) to the Rack Outputs block audio port.\n- Unwanted blocks can be deleted with the small X button in the back view. Once you've read this, feel free to delete this block.\n\nHappy patching!"},n:"Remark"}},bo:["b1","ro"],c:[]};a("racket",e)}function o(){L?E.style.visibility="visible":E.style.visibility="hidden",k.style.transition="visibility 0s,opacity "+M+"s linear",k.style.visibility="visible",k.style.opacity="1",k.style.pointerEvents="auto"}function s(){k.style.transition="visibility 0s linear "+M+"s,opacity "+M+"s linear",k.style.visibility="hidden",k.style.opacity="0",k.style.pointerEvents="none"}var l=n(13),u=r(l),c=n(14),d=(r(c),n(1)),p=r(d),h=n(0),f=r(h),v=n(11),g=n(10),y=r(g);n(12),(0,p.default)();var m={};["bigben","convolux","egen","gainer","orinami","remark","scope","thumper","verbatim","waverly"].forEach(function(e){m[e]=n(15)("./"+e+"/block.js").default});var b=Object.assign({},m);b.racket=(0,y.default)(m);var w=(0,f.default)(window),x=void 0,L=void 0,k=document.querySelector("#load-screen"),E=document.querySelector("#load-screen-close-button"),M=.15;E.addEventListener("click",function(e){e.preventDefault(),s()}),document.querySelector("#new-patch-button").addEventListener("click",function(e){e.preventDefault(),o()}),document.querySelector("#load-empty-rack-button").addEventListener("click",function(e){e.preventDefault(),i(),s()});var I=document.querySelector("#load-preset-file-chooser");I.addEventListener("change",function(e){e.preventDefault();var t=I.files;if(!(t.length<1)){var n=t[0],r=new FileReader;r.onload=function(e){var t=e.target.result;console.time("preset load");var n=(0,v.presetLoadFromArrayBuffer)(t),r=n.blockClassId,i=n.settings;console.timeEnd("preset load"),a(r,i),s()},r.readAsArrayBuffer(n)}}),document.querySelector("#save-preset-button").addEventListener("click",function(e){e.preventDefault();var t=null;L.save?t=L.save():console.log("Loaded block doesn't support saving settings"),console.time("preset save");var n=(0,v.presetSaveToBlob)(x,t);console.timeEnd("preset save");var r=(new Date).toISOString().replace(/[-:.ZT]/g,"").substring(0,14);u.default.saveAs(n,"preset_"+r+".plinth")})}]);